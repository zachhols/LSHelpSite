<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="_Skins_HTML5___Side_Navigation" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="../../../" data-mc-has-content-body="True" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="Retail|LS&#160;eCommerce|LS&#160;eCommerce - Magento|Technical Reference|[%=System.LinkedTitle%]">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="msapplication-config" content="../../../Skins/Favicons/browserconfig.xml" />
        <link rel="apple-touch-icon" sizes="180x180" href="../../../Skins/Favicons/apple-touch-icon.png" />
        <link rel="shortcut icon" href="../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="96x96" href="../../../Skins/Favicons/favicon-96x96.png" />
        <link rel="icon" sizes="32x32" href="../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="16x16" href="../../../Skins/Favicons/favicon-16x16.png" /><title>Omni GraphQl</title>
        <link rel="shortcut icon" href="/Content/Resources/Images/favicon.ico" />
        <link href="../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" />
        <link href="../../../Skins/Fluid/Stylesheets/foundation.6.2.3.css" rel="stylesheet" />
        <link href="../../../Skins/Fluid/Stylesheets/Styles.css" rel="stylesheet" />
        <link href="../../../Skins/Fluid/Stylesheets/Tablet.css" rel="stylesheet" />
        <link href="../../../Skins/Fluid/Stylesheets/Mobile.css" rel="stylesheet" />
        <link href="../../Resources/Stylesheets/LSNav.css" rel="stylesheet" />
        <script src="../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.min.js" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/require.config.js" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/foundation.6.2.3_custom.js" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js" defer="defer">
        </script>
        <script src="../../Resources/Javascripts/Scroll-Button.js" defer="defer">
        </script>
    </head>
    <body>
        <div class="foundation-wrap off-canvas-wrapper">
            <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
                <aside class="off-canvas position-right" role="navigation" id="offCanvas" data-off-canvas="" data-position="right" data-mc-ignore="true">
                    <ul class="off-canvas-accordion vertical menu off-canvas-list" data-accordion-menu="" data-mc-back-link="Back" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True">
                    </ul>
                </aside>
                <div class="off-canvas-content inner-wrap" data-off-canvas-content="">
                    <div data-sticky-container="" class="title-bar-container">
                        <nav class="title-bar tab-bar sticky" data-sticky="" data-options="marginTop:0" style="width:100%" data-sticky-on="only screen and (max-width: 1279px)" data-mc-ignore="true"><a class="skip-to-content fluid-skip showOnFocus" href="#">Skip To Main Content</a>
                            <div class="middle title-bar-section outer-row clearfix">
                                <div class="menu-icon-container relative clearfix">
                                    <div class="central-dropdown" style="display:none;" id="#centralSmallScreen"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                        <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                            <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                        </div>
                                    </div>
                                    <button class="menu-icon" aria-label="Show Navigation Panel" data-toggle="offCanvas"><span></span>
                                    </button>
                                </div>
                            </div>
                            <div class="title-bar-layout outer-row">
                                <div class="logo-wrapper"><a class="logo" href="../../home.html" title="LS Central Help" alt="Logo"></a>
                                </div>
                                <div class="navigation-wrapper nocontent">
                                    <ul class="navigation clearfix" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="3" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                        <li class="placeholder" style="visibility:hidden"><a>placeholder</a>
                                        </li>
                                    </ul>
                                    <div class="central-dropdown" style="display:none;" id="#centralTop"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                        <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                            <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                        </div>
                                    </div>
                                </div>
                                <div class="nav-search-wrapper">
                                    <div class="nav-search row">
                                        <form class="search" action="#">
                                            <div class="search-bar search-bar-container needs-pie">
                                                <input class="search-field needs-pie" type="search" aria-label="Search Field" placeholder="Search" />
                                                <div class="search-filter-wrapper"><span class="invisible-label" id="search-filters-label">Filter: </span>
                                                    <div class="search-filter" aria-haspopup="true" aria-controls="sf-content" aria-expanded="false" aria-label="Search Filter" title="All Files" role="button" tabindex="0">
                                                    </div>
                                                    <div class="search-filter-content" id="sf-content">
                                                        <ul>
                                                            <li>
                                                                <button class="mc-dropdown-item" aria-labelledby="search-filters-label filterSelectorLabel-00001"><span id="filterSelectorLabel-00001">All Files</span>
                                                                </button>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="search-submit-wrapper" dir="ltr">
                                                    <div class="search-submit" title="Search" role="button" tabindex="0"><span class="invisible-label">Submit Search</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                    <div class="central-dropdown" style="display:none;"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                        <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                            <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </nav>
                    </div>
                    <div class="main-section">
                        <div class="row outer-row sidenav-layout">
                            <nav class="sidenav-wrapper">
                                <div class="sidenav-container">
                                    <ul class="off-canvas-accordion vertical menu sidenav" data-accordion-menu="" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu accordion-menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="False" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True" data-mc-side-nav-menu="True">
                                    </ul>
                                </div>
                            </nav>
                            <div class="body-container">
                                <div data-mc-content-body="True">
                                    <MadCap:conditionalText data-mc-conditions="Default.GoogleAnalytics">
                                        <script>/* <![CDATA[ */
				(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
				(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
				m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
				})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
			
				ga('create', 'UA-58791693-4', 'auto');
			
				var file = document.location.href; 
				file = file.substring(0, (file.indexOf("#") == -1) ? file.length : file.indexOf("#"));
				file = file.substring(0, (file.indexOf("?") == -1) ? file.length : file.indexOf("?"));
				file = file.substring(file.lastIndexOf("/") + 1, file.length);
 
				if (file === 'Search.htm') 
				{
					var newPath = document.location.pathname + document.location.search + document.location.hash;
					newPath = newPath.replace(/#/, '?');
					newPath = newPath.replace(/search\-/, 'q=');
					ga('set', 'page', newPath);
				
					function locationHashChanged()
					{
						newPath = document.location.pathname + document.location.search + document.location.hash;
						newPath = newPath.replace(/#/, '?');
						newPath = newPath.replace(/search\-/, 'q=');
						ga('set', 'page', newPath);
						ga('send', 'pageview');
					}
				
					if(window.HashChangeEvent)
					{
						window.onhashchange = locationHashChanged;
					}
				}
				ga('send', 'pageview');
			/* ]]> */</script>
                                    </MadCap:conditionalText>
                                    <div class="nocontent">
                                        <div class="MCBreadcrumbsBox_0 breadcrumbs" role="navigation" aria-label="Breadcrumbs" data-mc-breadcrumbs-divider=" &gt; " data-mc-breadcrumbs-count="3" data-mc-toc="True"><span class="MCBreadcrumbsPrefix">You are here: </span>
                                        </div>
                                    </div>
                                    <p>&#160;</p>
                                    <div role="main" id="mc-main-content">
                                        <h1><a name="aanchor4061"></a>
                                            <MadCap:concept term="Retail" />Omni GraphQl</h1>
                                        <p>This module  extends out-of-the-box Magento cart to support different operations like applying and removing loyalty points and gift cards, and it fetches these related fields and others in order and cart objects.</p>
                                        <h2>Queries</h2>
                                        <p class="shortcut"><a href="#Cart-query" class="MCXref xref">Cart query</a>
                                        </p>
                                        <p class="shortcut"><a href="#Retrieve-loyalty-points-redeemed-for-given-cart" class="MCXref xref">Retrieve loyalty points redeemed for given cart</a>
                                        </p>
                                        <p class="shortcut"><a href="#Retrieve-gift-card-redeemed-for-given-cart" class="MCXref xref">Retrieve gift card redeemed for given cart</a> </p>
                                        <h2><a name="Cart-query"></a>Cart query</h2>
                                        <p>
			Use cart query to retrieve information about a particular cart. The query is responsible for things like tracking each item in the cart, including the quantity and base cost, determining estimated shipping costs, calculating subtotals, computing additional costs, applying coupons, and determining the payment method.
		</p>
                                        <p>
			As part of <span class="GeneralLSeCommerce">LS&#160;eCommerce</span> – Magento, it also returns loyalty points and gift card related objects.
		</p>
                                        <p><b>Syntax</b>
                                        </p>
                                        <div class="codeSnippet"><a class="codeSnippetCopyButton" role="button" href="#">Copy</a>
                                            <div class="codeSnippetBody" data-mc-continue="False" data-mc-line-number-start="1" data-mc-use-line-numbers="False"><pre><code>{cart(cart_id: String!) {Cart}}</code></pre>
                                            </div>
                                        </div>
                                        <h2><a name="Retrieve-loyalty-points-redeemed-for-given-cart"></a>Retrieve loyalty points redeemed for given cart</h2>
                                        <p>
			Use this query to retrieve information about the loyalty points applied to a given customer cart. 
		</p>
                                        <p>
			Required input is a valid cart ID that is attached to the currently logged-in customer. 		
		</p>
                                        <p>
			In the response, <i>loyalty_points_info</i> is injected in the out-of-the-box Magento cart object. It includes fields like new points earned on completing a current transaction, loyalty points being used for current transaction, points rate, that is what is the worth of 1 point in base currency, and points discount that is discounted amount in base currency.		
		</p>
                                        <p><b>Request</b>
                                        </p>
                                        <div class="codeSnippet"><a class="codeSnippetCopyButton" role="button" href="#">Copy</a>
                                            <div class="codeSnippetBody" data-mc-continue="False" data-mc-line-number-start="1" data-mc-use-line-numbers="False"><pre><code>{&#160;<br />&#160;&#160;cart(cart_id: "Kj6KNDeEAdcxn8PQ2udsIzmDuLVUiyPl") {&#160;<br />&#160;&#160;&#160;&#160;prices {&#160;<br />&#160;&#160;&#160;&#160;&#160;&#160;grand_total {&#160;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;value&#160;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;currency&#160;<br />&#160;&#160;&#160;&#160;&#160;&#160;}&#160;<br />&#160;&#160;&#160;&#160;}&#160;<br />&#160;&#160;&#160;&#160;loyalty_points_info {&#160;<br />&#160;&#160;&#160;&#160;&#160;&#160;points_earn&#160;<br />&#160;&#160;&#160;&#160;&#160;&#160;points_spent&#160;<br />&#160;&#160;&#160;&#160;&#160;&#160;points_discount&#160;<br />&#160;&#160;&#160;&#160;&#160;&#160;point_rate&#160;<br />&#160;&#160;&#160;&#160;}&#160;<br />&#160;&#160;}&#160;<br />}</code></pre>
                                            </div>
                                        </div>
                                        <p><b>Response</b>
                                        </p>
                                        <div class="codeSnippet"><a class="codeSnippetCopyButton" role="button" href="#">Copy</a>
                                            <div class="codeSnippetBody" data-mc-continue="False" data-mc-line-number-start="1" data-mc-use-line-numbers="False"><pre><code>{&#160;<br />&#160;&#160;"data": {&#160;<br />&#160;&#160;&#160;&#160;"cart": {&#160;<br />&#160;&#160;&#160;&#160;&#160;&#160;"prices": {&#160;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;"grand_total": {&#160;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;"value": 84,&#160;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;"currency": "USD"&#160;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;}&#160;<br />&#160;&#160;&#160;&#160;&#160;&#160;},&#160;<br />&#160;&#160;&#160;&#160;&#160;&#160;"loyalty_points_info": {&#160;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;"points_earn": "95",&#160;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;"points_spent": "10",<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;"points_discount": "-1.00",&#160;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;"point_rate": "0.10"&#160;<br />&#160;&#160;&#160;&#160;&#160;&#160;}&#160;<br />&#160;&#160;&#160;&#160;}&#160;<br />&#160;&#160;}&#160;<br />}&#160;</code></pre>
                                            </div>
                                        </div>
                                        <h2><a name="Retrieve-gift-card-redeemed-for-given-cart"></a>Retrieve gift card redeemed for given cart</h2>
                                        <p>
			Use this query to retrieve information about the gift card applied in a given cart. 			Required input is a valid cart ID. 		
		</p>
                                        <p>
			In the response <i>applied_gift_card</i> is injected in the out-of-the-box Magento cart object. It includes fields like applied gift card code and applied amount. This object should return null if no gift card has been used.
		</p>
                                        <p><b>Request</b>
                                        </p>
                                        <div class="codeSnippet"><a class="codeSnippetCopyButton" role="button" href="#">Copy</a>
                                            <div class="codeSnippetBody" data-mc-continue="False" data-mc-line-number-start="1" data-mc-use-line-numbers="False"><pre><code>{&#160;<br />&#160;&#160;cart(cart_id: "Kj6KNDeEAdcxn8PQ2udsIzmDuLVUiyPl") {&#160;<br />&#160;&#160;&#160;&#160;applied_gift_card {&#160;<br />&#160;&#160;&#160;&#160;&#160;&#160;code&#160;<br />&#160;&#160;&#160;&#160;&#160;&#160;amount&#160;<br />&#160;&#160;&#160;&#160;}&#160;<br />&#160;&#160;}&#160;<br />}</code></pre>
                                            </div>
                                        </div>
                                        <p><b>Response</b>
                                        </p>
                                        <div class="codeSnippet"><a class="codeSnippetCopyButton" role="button" href="#">Copy</a>
                                            <div class="codeSnippetBody" data-mc-continue="False" data-mc-line-number-start="1" data-mc-use-line-numbers="False"><pre><code>{&#160;<br />&#160;&#160;"data": {&#160;<br />&#160;&#160;&#160;&#160;"cart": {&#160;<br />&#160;&#160;&#160;&#160;&#160;&#160;"applied_gift_card": {&#160;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;"code": "G000010",&#160;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;"amount": 10&#160;<br />&#160;&#160;&#160;&#160;&#160;&#160;}&#160;<br />&#160;&#160;&#160;&#160;}&#160;<br />&#160;&#160;}&#160;<br />}&#160;</code></pre>
                                            </div>
                                        </div>
                                        <h2>Mutations</h2>
                                        <p class="shortcut"><a href="#Apply-available-loyalty-points-to-the-cart" class="MCXref xref">Apply available loyalty points to the cart</a>
                                        </p>
                                        <p class="shortcut"><a href="#Remove-already-applied-loyalty-point-from-cart" class="MCXref xref">Remove already applied loyalty point from cart</a>
                                        </p>
                                        <p class="shortcut"><a href="#Apply-a-gift-cart-to-the-cart" class="MCXref xref">Apply a gift cart to the cart</a>
                                        </p>
                                        <p class="shortcut"><a href="#Remove-already-applied-gift-card-from-cart" class="MCXref xref">Remove already applied gift card from cart</a>
                                        </p>
                                        <p class="shortcut"><a href="#PlaceOrder-mutation" class="MCXref xref">PlaceOrder mutation</a>
                                        </p>
                                        <h2><a name="Apply-available-loyalty-points-to-the-cart"></a>Apply available loyalty points to the cart</h2>
                                        <p>
			In order to pay part or whole of the grand total amount for a cart belonging a customer, you can use available loyalty points using this mutation. If loyalty points were already applied earlier, this mutation will update those points now.
		</p>
                                        <p>
			Required input includes a valid customer cart ID and a valid loyalty points value not greater than both available points and grand total. Provide the customer’s token in the header section of the query.
		</p>
                                        <p>
			In the response<i> loyalty_points_info</i> is injected in the out-of-the-box Magento cart object. It includes fields like new points earned on completing current transaction, loyalty points being used for current transaction, points rate, that is what is the worth of 1 point in base currency, points discount, that is discounted amount in base currency.
		</p>
                                        <p><b>Request</b>
                                        </p>
                                        <div class="codeSnippet"><a class="codeSnippetCopyButton" role="button" href="#">Copy</a>
                                            <div class="codeSnippetBody" data-mc-continue="False" data-mc-line-number-start="1" data-mc-use-line-numbers="False"><pre><code>mutation {&#160;<br />&#160;&#160;applyLsLoyaltyPoints(&#160;<br />&#160;&#160;&#160;&#160;input: {&#160;<br />&#160;&#160;&#160;&#160;&#160;&#160;cart_id: "Kj6KNDeEAdcxn8PQ2udsIzmDuLVUiyPl",&#160;<br />&#160;&#160;&#160;&#160;&#160;&#160;loyalty_points:10&#160;<br />&#160;&#160;&#160;&#160;}&#160;<br />&#160;&#160;) {&#160;<br />&#160;&#160;&#160;&#160;cart {&#160;<br />&#160;&#160;&#160;&#160;&#160;&#160;loyalty_points_info {&#160;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;points_earn&#160;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;points_spent&#160;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;points_discount&#160;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;point_rate&#160;<br />&#160;&#160;&#160;&#160;&#160;&#160;}&#160;<br />&#160;&#160;&#160;&#160;}&#160;<br />&#160;&#160;}&#160;<br />}&#160;</code></pre>
                                            </div>
                                        </div>
                                        <p><b>Response</b>
                                        </p>
                                        <div class="codeSnippet"><a class="codeSnippetCopyButton" role="button" href="#">Copy</a>
                                            <div class="codeSnippetBody" data-mc-continue="False" data-mc-line-number-start="1" data-mc-use-line-numbers="False"><pre><code>{&#160;<br />&#160;&#160;"data": {&#160;<br />&#160;&#160;&#160;&#160;"applyLsLoyaltyPoints": {&#160;<br />&#160;&#160;&#160;&#160;&#160;&#160;"cart": {&#160;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;"loyalty_points_info": {&#160;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;"points_earn": "95",&#160;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;"points_spent": "10",&#160;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;"points_discount": "-1.00",&#160;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;"point_rate": "0.10"&#160;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;}&#160;<br />&#160;&#160;&#160;&#160;&#160;&#160;}&#160;<br />&#160;&#160;&#160;&#160;}&#160;<br />&#160;&#160;}&#160;<br />}&#160;</code></pre>
                                            </div>
                                        </div>
                                        <h2><a name="Remove-already-applied-loyalty-point-from-cart"></a>Remove already applied loyalty point from cart</h2>
                                        <p>
			If loyalty points have already been applied to the cart, they can be removed using this mutation.
		</p>
                                        <p>
			Required input includes a valid customer cart ID. Provide the customer’s token in the header section of the query.
		</p>
                                        <p>
			In the response<i> loyalty_points_info </i>is injected in the out-of-the-box Magento cart object. It includes fields like new points earned on completing current transaction, loyalty points being used for current transaction, points rate, that is what is the worth of 1 point in base currency, and points discount, that is discounted amount in base currency.
		</p>
                                        <p><b>Request</b>
                                        </p>
                                        <div class="codeSnippet"><a class="codeSnippetCopyButton" role="button" href="#">Copy</a>
                                            <div class="codeSnippetBody" data-mc-continue="False" data-mc-line-number-start="1" data-mc-use-line-numbers="False"><pre><code>mutation {&#160;<br />&#160;&#160;removeLsLoyaltyPoints(&#160;<br />&#160;&#160;&#160;&#160;input: {&#160;<br />&#160;&#160;&#160;&#160;&#160;&#160;cart_id: "Kj6KNDeEAdcxn8PQ2udsIzmDuLVUiyPl"&#160;<br />&#160;&#160;&#160;&#160;}&#160;<br />&#160;&#160;) {&#160;<br />&#160;&#160;&#160;&#160;cart {&#160;<br />&#160;&#160;&#160;&#160;&#160;&#160;loyalty_points_info {&#160;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;points_earn&#160;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;points_spent&#160;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;points_discount&#160;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;point_rate&#160;<br />&#160;&#160;&#160;&#160;&#160;&#160;}&#160;<br />&#160;&#160;&#160;&#160;}&#160;<br />&#160;&#160;}&#160;<br />}&#160;</code></pre>
                                            </div>
                                        </div>
                                        <p><b>Response</b>
                                        </p>
                                        <div class="codeSnippet"><a class="codeSnippetCopyButton" role="button" href="#">Copy</a>
                                            <div class="codeSnippetBody" data-mc-continue="False" data-mc-line-number-start="1" data-mc-use-line-numbers="False"><pre><code>{&#160;<br />&#160;&#160;"data": {&#160;<br />&#160;&#160;&#160;&#160;"removeLsLoyaltyPoints": {&#160;<br />&#160;&#160;&#160;&#160;&#160;&#160;"cart": {&#160;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;"loyalty_points_info": {&#160;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;"points_earn": "95",&#160;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;"points_spent": "0",&#160;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;"points_discount": "0.00",&#160;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;"point_rate": "0.10"&#160;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;}&#160;<br />&#160;&#160;&#160;&#160;&#160;&#160;}&#160;<br />&#160;&#160;&#160;&#160;}&#160;<br />&#160;&#160;}&#160;<br />}&#160;</code></pre>
                                            </div>
                                        </div>
                                        <h2><a name="Apply-a-gift-cart-to-the-cart"></a>Apply a gift cart to the cart</h2>
                                        <p>
			In order to pay part or whole of the grand total amount for a cart belonging a customer, you can use a valid gift card using this mutation. If a gift card was already applied earlier, this mutation will update that now.
		</p>
                                        <p>
			Required input includes a valid customer cart ID, a valid gift card code, and a valid amount not greater than both the available gift card balance and grand total.  
		</p>
                                        <p>
			In the response <i>applied_gift_card</i> is injected in the out-of-the-box Magento cart object. It includes fields like applied gift card code and applied amount.
		</p>
                                        <p><b>Request</b>
                                        </p>
                                        <div class="codeSnippet"><a class="codeSnippetCopyButton" role="button" href="#">Copy</a>
                                            <div class="codeSnippetBody" data-mc-continue="False" data-mc-line-number-start="1" data-mc-use-line-numbers="False"><pre><code>mutation {&#160;<br />&#160;&#160;applyLsGiftCard(&#160;<br />&#160;&#160;&#160;&#160;input: {&#160;<br />&#160;&#160;&#160;&#160;&#160;&#160;cart_id: "Kj6KNDeEAdcxn8PQ2udsIzmDuLVUiyPl",&#160;<br />&#160;&#160;&#160;&#160;&#160;&#160;code: "G000010",&#160;<br />&#160;&#160;&#160;&#160;&#160;&#160;amount: 10&#160;<br />&#160;&#160;&#160;&#160;}&#160;<br />&#160;&#160;) {&#160;<br />&#160;&#160;&#160;&#160;cart {&#160;<br />&#160;&#160;&#160;&#160;applied_gift_card {&#160;<br />&#160;&#160;&#160;&#160;&#160;&#160;code&#160;<br />&#160;&#160;&#160;&#160;&#160;&#160;amount<br />&#160;&#160;&#160;&#160;&#160;&#160;}&#160;<br />&#160;&#160;&#160;&#160;}&#160;<br />&#160;&#160;}&#160;<br />}&#160;</code></pre>
                                            </div>
                                        </div>
                                        <p><b>Response</b>
                                        </p>
                                        <div class="codeSnippet"><a class="codeSnippetCopyButton" role="button" href="#">Copy</a>
                                            <div class="codeSnippetBody" data-mc-continue="False" data-mc-line-number-start="1" data-mc-use-line-numbers="False"><pre><code>{&#160;<br />&#160;&#160;"data": {&#160;<br />&#160;&#160;&#160;&#160;"applyLsGiftCard": {&#160;<br />&#160;&#160;&#160;&#160;&#160;&#160;"cart": {&#160;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;"applied_gift_card": {&#160;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;"code": "G000010",&#160;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;"amount": 10&#160;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;}&#160;<br />&#160;&#160;&#160;&#160;&#160;&#160;}&#160;<br />&#160;&#160;&#160;&#160;}&#160;<br />&#160;&#160;}&#160;<br />}&#160;</code></pre>
                                            </div>
                                        </div>
                                        <h2><a name="Remove-already-applied-gift-card-from-cart"></a>Remove already applied gift card from cart</h2>
                                        <p>
			If a gift card has already been applied to the cart, it can be removed using this mutation.
		</p>
                                        <p>
			Required input includes a valid customer cart ID.
		</p>
                                        <p>
			In the response <i>applied_gift_card</i> is injected in the out-of-the-box Magento cart object. It should be null, if the gift card has been successfully removed.
		</p>
                                        <p><b>Request</b>
                                        </p>
                                        <div class="codeSnippet"><a class="codeSnippetCopyButton" role="button" href="#">Copy</a>
                                            <div class="codeSnippetBody" data-mc-continue="False" data-mc-line-number-start="1" data-mc-use-line-numbers="False"><pre><code>mutation {&#160;<br />&#160;&#160;removeLsGiftCard(&#160;<br />&#160;&#160;&#160;&#160;input: {&#160;<br />&#160;&#160;&#160;&#160;&#160;&#160;cart_id: "Kj6KNDeEAdcxn8PQ2udsIzmDuLVUiyPl"&#160;<br />&#160;&#160;&#160;&#160;}&#160;<br />&#160;&#160;) {&#160;<br />&#160;&#160;&#160;&#160;cart {&#160;<br />&#160;&#160;&#160;&#160;applied_gift_card {&#160;<br />&#160;&#160;&#160;&#160;&#160;&#160;code&#160;<br />&#160;&#160;&#160;&#160;&#160;&#160;amount&#160;<br />&#160;&#160;&#160;&#160;&#160;&#160;}&#160;<br />&#160;&#160;&#160;&#160;}&#160;<br />&#160;&#160;}&#160;<br />}&#160;</code></pre>
                                            </div>
                                        </div>
                                        <p><b>Response</b>
                                        </p>
                                        <div class="codeSnippet"><a class="codeSnippetCopyButton" role="button" href="#">Copy</a>
                                            <div class="codeSnippetBody" data-mc-continue="False" data-mc-line-number-start="1" data-mc-use-line-numbers="False"><pre><code>{&#160;<br />&#160;&#160;"data": {&#160;<br />&#160;&#160;&#160;&#160;"removeLsGiftCard": {&#160;<br />&#160;&#160;&#160;&#160;&#160;&#160;"cart": {&#160;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;"applied_gift_card": null&#160;<br />&#160;&#160;&#160;&#160;&#160;&#160;}&#160;<br />&#160;&#160;&#160;&#160;}&#160;<br />&#160;&#160;}&#160;<br />}&#160;</code></pre>
                                            </div>
                                        </div>
                                        <h2><a name="PlaceOrder-mutation"></a>PlaceOrder mutation</h2>
                                        <p>
			The placeOrder mutation converts the cart into an order and returns an order object which is an out-of-the-box behavior.
		</p>
                                        <p>
			As part of <span class="GeneralLSeCommerce">LS&#160;eCommerce</span> – Magento, the resulting object is customized to return  also some useful information for customer reference, such as an document ID which comes from <span class="GeneralLSCentral_Mini">LS&#160;Central</span> once the order is placed successfully.
		</p>
                                        <p><b>Request</b>
                                        </p>
                                        <div class="codeSnippet"><a class="codeSnippetCopyButton" role="button" href="#">Copy</a>
                                            <div class="codeSnippetBody" data-mc-continue="False" data-mc-line-number-start="1" data-mc-use-line-numbers="False"><pre><code>mutation {&#160;<br />&#160;&#160;placeOrder(input: {cart_id: "ElamcyASGZZCDVcHExeGLs4jj9Oni79t"}) {&#160;<br />&#160;&#160;&#160;&#160;order {&#160;<br />&#160;&#160;&#160;&#160;&#160;&#160;order_number,&#160;<br />&#160;&#160;&#160;&#160;&#160;&#160;document_id&#160;<br />&#160;&#160;&#160;&#160;}&#160;<br />&#160;&#160;}&#160;<br />}</code></pre>
                                            </div>
                                        </div>
                                        <p><b>Response</b>
                                        </p>
                                        <div class="codeSnippet"><a class="codeSnippetCopyButton" role="button" href="#">Copy</a>
                                            <div class="codeSnippetBody" data-mc-continue="False" data-mc-line-number-start="1" data-mc-use-line-numbers="False"><pre><code>{&#160;<br />&#160;&#160;"data": {&#160;<br />&#160;&#160;&#160;&#160;"placeOrder": {&#160;<br />&#160;&#160;&#160;&#160;&#160;&#160;"order": {&#160;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;"order_number":&#160;&#160;000000006,<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;"document_id": C000007&#160;<br />&#160;&#160;&#160;&#160;&#160;&#160;}&#160;<br />&#160;&#160;&#160;&#160;}&#160;<br />&#160;&#160;}&#160;<br />}&#160;</code></pre>
                                            </div>
                                        </div>
                                        <p>&#160;</p>
                                        <p>&#160;</p>
                                    </div>
                                    <div id="footer" class="ls-nav-footer">
                                        <hr width="100%" size="0" align="center" />
                                        <p>© <span class="VariablesCurrentYear">2021</span> LS Retail ehf. All rights reserved.  </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div><a data-close="true"></a>
                </div>
            </div>
        </div>
    </body>
</html>