<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="_Skins_HTML5___Side_Navigation" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="../../../" data-mc-has-content-body="True" data-mc-conditions="Default.Not AL ready" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="Retail|BackOffice|Store Management|Retail Messages">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="msapplication-config" content="../../../Skins/Favicons/browserconfig.xml" />
        <link rel="apple-touch-icon" sizes="180x180" href="../../../Skins/Favicons/apple-touch-icon.png" />
        <link rel="shortcut icon" href="../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="96x96" href="../../../Skins/Favicons/favicon-96x96.png" />
        <link rel="icon" sizes="32x32" href="../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="16x16" href="../../../Skins/Favicons/favicon-16x16.png" /><title>How to: Create Retail Messages</title>
        <link rel="shortcut icon" href="/Content/Resources/Images/favicon.ico" />
        <link href="../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" />
        <link href="../../../Skins/Fluid/Stylesheets/foundation.6.2.3.css" rel="stylesheet" />
        <link href="../../../Skins/Fluid/Stylesheets/Styles.css" rel="stylesheet" />
        <link href="../../../Skins/Fluid/Stylesheets/Tablet.css" rel="stylesheet" />
        <link href="../../../Skins/Fluid/Stylesheets/Mobile.css" rel="stylesheet" />
        <link href="../../Resources/Stylesheets/LSNav.css" rel="stylesheet" />
        <link href="../../Resources/Table Styles/To_SeeTable.css" rel="stylesheet" />
        <script src="../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.min.js" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/require.config.js" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/foundation.6.2.3_custom.js" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js" defer="defer">
        </script>
        <script src="../../Resources/Javascripts/Scroll-Button.js" defer="defer">
        </script>
    </head>
    <body>
        <div class="foundation-wrap off-canvas-wrapper">
            <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
                <aside class="off-canvas position-right" role="navigation" id="offCanvas" data-off-canvas="" data-position="right" data-mc-ignore="true">
                    <ul class="off-canvas-accordion vertical menu off-canvas-list" data-accordion-menu="" data-mc-back-link="Back" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True">
                    </ul>
                </aside>
                <div class="off-canvas-content inner-wrap" data-off-canvas-content="">
                    <div data-sticky-container="" class="title-bar-container">
                        <nav class="title-bar tab-bar sticky" data-sticky="" data-options="marginTop:0" style="width:100%" data-sticky-on="only screen and (max-width: 1279px)" data-mc-ignore="true"><a class="skip-to-content fluid-skip showOnFocus" href="#">Skip To Main Content</a>
                            <div class="middle title-bar-section outer-row clearfix">
                                <div class="menu-icon-container relative clearfix">
                                    <div class="central-dropdown" style="display:none;" id="#centralSmallScreen"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                        <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                            <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                        </div>
                                    </div>
                                    <button class="menu-icon" aria-label="Show Navigation Panel" data-toggle="offCanvas"><span></span>
                                    </button>
                                </div>
                            </div>
                            <div class="title-bar-layout outer-row">
                                <div class="logo-wrapper"><a class="logo" href="../../home.html" title="LS Central Help" alt="Logo"></a>
                                </div>
                                <div class="navigation-wrapper nocontent">
                                    <ul class="navigation clearfix" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="3" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                        <li class="placeholder" style="visibility:hidden"><a>placeholder</a>
                                        </li>
                                    </ul>
                                    <div class="central-dropdown" style="display:none;" id="#centralTop"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                        <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                            <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                        </div>
                                    </div>
                                </div>
                                <div class="nav-search-wrapper">
                                    <div class="nav-search row">
                                        <form class="search" action="#">
                                            <div class="search-bar search-bar-container needs-pie">
                                                <input class="search-field needs-pie" type="search" aria-label="Search Field" placeholder="Search" />
                                                <div class="search-filter-wrapper"><span class="invisible-label" id="search-filters-label">Filter: </span>
                                                    <div class="search-filter" aria-haspopup="true" aria-controls="sf-content" aria-expanded="false" aria-label="Search Filter" title="All Files" role="button" tabindex="0">
                                                    </div>
                                                    <div class="search-filter-content" id="sf-content">
                                                        <ul>
                                                            <li>
                                                                <button class="mc-dropdown-item" aria-labelledby="search-filters-label filterSelectorLabel-00001"><span id="filterSelectorLabel-00001">All Files</span>
                                                                </button>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="search-submit-wrapper" dir="ltr">
                                                    <div class="search-submit" title="Search" role="button" tabindex="0"><span class="invisible-label">Submit Search</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                    <div class="central-dropdown" style="display:none;"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                        <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                            <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </nav>
                    </div>
                    <div class="main-section">
                        <div class="row outer-row sidenav-layout">
                            <nav class="sidenav-wrapper">
                                <div class="sidenav-container">
                                    <ul class="off-canvas-accordion vertical menu sidenav" data-accordion-menu="" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu accordion-menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="False" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True" data-mc-side-nav-menu="True">
                                    </ul>
                                </div>
                            </nav>
                            <div class="body-container">
                                <div data-mc-content-body="True">
                                    <MadCap:conditionalText data-mc-conditions="Default.GoogleAnalytics">
                                        <script>/* <![CDATA[ */
				(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
				(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
				m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
				})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
			
				ga('create', 'UA-58791693-4', 'auto');
			
				var file = document.location.href; 
				file = file.substring(0, (file.indexOf("#") == -1) ? file.length : file.indexOf("#"));
				file = file.substring(0, (file.indexOf("?") == -1) ? file.length : file.indexOf("?"));
				file = file.substring(file.lastIndexOf("/") + 1, file.length);
 
				if (file === 'Search.htm') 
				{
					var newPath = document.location.pathname + document.location.search + document.location.hash;
					newPath = newPath.replace(/#/, '?');
					newPath = newPath.replace(/search\-/, 'q=');
					ga('set', 'page', newPath);
				
					function locationHashChanged()
					{
						newPath = document.location.pathname + document.location.search + document.location.hash;
						newPath = newPath.replace(/#/, '?');
						newPath = newPath.replace(/search\-/, 'q=');
						ga('set', 'page', newPath);
						ga('send', 'pageview');
					}
				
					if(window.HashChangeEvent)
					{
						window.onhashchange = locationHashChanged;
					}
				}
				ga('send', 'pageview');
			/* ]]> */</script>
                                    </MadCap:conditionalText>
                                    <div class="nocontent">
                                        <div class="MCBreadcrumbsBox_0 breadcrumbs" role="navigation" aria-label="Breadcrumbs" data-mc-breadcrumbs-divider=" &gt; " data-mc-breadcrumbs-count="3" data-mc-toc="True"><span class="MCBreadcrumbsPrefix">You are here: </span>
                                        </div>
                                    </div>
                                    <p>&#160;</p>
                                    <div role="main" id="mc-main-content">
                                        <h1><a name="aanchor1437"></a>
                                            <MadCap:concept term="Retail" />How to: Create Retail Messages</h1>
                                        <p class="shortcut"><a href="#Create" class="MCXref xref">To create a Retail Message</a>
                                        </p>
                                        <p class="shortcut"><a href="#Retail" class="MCXref xref">Retail Message Action Codes</a>
                                        </p>
                                        <p class="shortcut"><a href="#Recipients" class="MCXref xref">Recipients</a>
                                        </p>
                                        <p class="shortcut"><a href="#Actions" class="MCXref xref">Actions</a>
                                        </p>
                                        <p class="shortcut"><a href="#Active" class="MCXref xref">Active Retail Messages on POS</a>
                                        </p>
                                        <p class="shortcut"><a href="#See" class="MCXref xref">See also</a>
                                        </p>
                                        <h2><a name="Create"></a>To create a Retail Message</h2>
                                        <ol>
                                            <li value="1">
                                                <p>Click the <img src="../../Resources/Images/Templates/search_icon_15x14.png" style="width: 15;height: 14;" /> icon, enter <b>Retail Messages</b>, and select the relevant link.</p>
                                                <p>
                                                    <img src="../../Resources/Images/LS Retail/Retail Messages/P_10016600_RetailMessges_700x333.png" class="images" style="width: 700;height: 333;" />
                                                </p>
                                            </li>
                                            <li value="2">
                                                <p>Click <b>Edit</b> to edit an existing message, or <b>New</b> to create a new one:</p>
                                                <p>
                                                    <img src="../../Resources/Images/LS Retail/Retail Messages/P_10016601_RetailMessgesCard2_700x657.png" style="width: 700;height: 657;" />
                                                </p>
                                            </li>
                                        </ol>
                                        <p>Each new message will be given an ID from the number series set in the <a href="Retail-Message-Setup.htm" class="MCXref xref">Retail Message Setup</a>. The status is <i>New</i> until the message is activated. When the message has been <i>activated</i>, it is no longer possible to change it. The <b>Active From Date</b> field allows messages to be activated at a future date. Messages can be edited until the <b>Active From Date</b> and time has passed.</p>
                                        <p>A <b>Retail Message</b> can contain a request for an action. The action is defined with an Action Code. If that <b>Retail Message</b> has a list of <b>Recipients</b> it will be marked as <i>Processed</i> when the first user processes it and other recipients will not see the message on their list any more. </p>
                                        <p>When a user processes an information message or a message that does not contain an action code, the system will only mark that the user has processed its message and not mark the <b>Retail Message</b> as <i>Processed</i> until all recipients have processed the message.</p>
                                        <p>In the <b>Message Body</b>, free text lines can be added. When a message is read on POS the lines are displayed.</p>
                                        <h2><a name="Retail"></a>Retail Message Action Codes</h2>
                                        <p>The <b>Retail Message Action Codes</b> let the user create custom actions that can be linked to a <b>Retail Message</b>. Open the <b>Retail Message Action Codes</b>:</p>
                                        <p>
                                            <img src="../../Resources/Images/LS Retail/Retail Messages/P_10016607_RetailMsgActionCodes_650x388.png" style="width: 650;height: 388;">
                                            </img>
                                        </p>
                                        <p><b>Action Codes</b> are linked to a <b>Codeunit</b>. When a message is processed containing an <b>Action Code</b>, this codeunit is run and the <b>Retail Message Header</b> record is passed to the codeunit. The general fields in the <b>Retail Message Header</b> record can be used to pass parameters to the codeunit.</p>
                                        <p>In the CRONUS LS company there is a sample codeunit that uses information in the <b>Retail Message</b> header and runs a specific report. The sample codeunit is there to demonstrate how a custom codeunit, which uses data from the <b>Retail Message</b> header, can be written. This codeunit calls a function that prints report 705 <b>Inventory Availability</b> for items with a number that starts with 10 (filter on Item No. is ‘10*’) and then sets the field <b>Action Processed (Internal)</b> to <i>TRUE</i>. This will tell the system that the message has been processed and the status of the <b>Recipient</b> running it is changed to <i>Processed by Recipient</i> and the <b>Retail Message</b> will be marked as <i>Processed</i>.</p>
                                        <h2><a name="Recipients"></a>Recipients</h2>
                                        <p>Recipients are added to a <b>Retail Message</b> in the <b>Recipients</b> FastTab. These are the <b>Recipients</b> types:</p>
                                        <ul>
                                            <li value="1"><b>Username</b>: User name can be selected from the <b>User</b> table.</li>
                                            <li value="2"><b>Store</b>: Store number can be selected from the <b>Store</b> table.</li>
                                            <li value="3"><b>Terminal</b>: POS terminal number can be selected from the <b>POS Terminal</b> table.</li>
                                            <li value="4"><b>Staff</b>: Staff ID can be selected from the <b>Staff</b> table.</li>
                                            <li value="5"><b>Group</b>: Group ID can be selected from the <a href="Retail-Message-Recipient-Groups.htm" class="MCXref xref">Retail Message Recipient Groups</a>. A <b>Group</b> can contain all the types above.</li>
                                        </ul>
                                        <p>A message addressed to a specific <i>Username</i> can only be retrieved on a computer that is logged on to the system with that user’s credentials.<br />A message addressed to a specific POS <i>Staff ID</i> can only be retrieved on a POS client that has been logged on by that POS Staff ID.<br />A message addressed to a specific <i>Terminal</i> number can only be retrieved on POS client that is running that POS Terminal number.<br />A message addressed to a specific <i>Store Number</i> can only be retrieved on a POS client that is running in that Store.<br />When a message is addressed to a <i>Group</i> of receivers, the system will explode the group when the message is activated. </p>
                                        <p>In the example message below, all information has been entered and the message is ready for activation:<br /></p>
                                        <p>
                                            <img src="../../Resources/Images/LS Retail/Retail Messages/P_10016601_RetailMessageCard_700x646.png" style="width: 700;height: 646;" />
                                        </p>
                                        <p>In this case you want to address all members of store <i>S0007</i>, the user of terminal <i>P0011</i>, staff <i>701</i>, and all members of the group <i>FASHION</i>.</p>
                                        <p>The last step is to activate the message. You want the message to be active from 8 o’clock tomorrow. So you select the date and time, and press the <b>Activate</b> action:<br /></p>
                                        <p>
                                            <img src="../../Resources/Images/LS Retail/Retail Messages/P_10016601_RetailMessgesCard3_600x319.png" class="images" style="width: 600;height: 319;" />
                                        </p>
                                        <p>
                                            <br />Now the <b>Recipients</b> have been exploded and stored in the <b>Recipients and Status</b> FactBox on the right-hand side of the card.</p>
                                        <p>
                                            <img src="../../Resources/Images/LS Retail/Retail Messages/P_10016601_RetailMessgesCard5_700x638.png" style="width: 700;height: 638;" />
                                        </p>
                                        <p>Now the system can update the statuses for each recipient when a message is received, read and processed. In the next example, Staff 701 has read the above message on a POS in store S0007:</p>
                                        <p>
                                            <img src="../../Resources/Images/LS Retail/Retail Messages/P_10016601_RetailMessgesCard4_450x238.png" style="width: 450;height: 238;" />
                                        </p>
                                        <h2><a name="Actions"></a>Actions</h2>
                                        <p>The following actions can be run directly from the Retail Message card:</p>
                                        <table style="width: 100%;mc-table-style: url('../../Resources/Table Styles/To_SeeTable.css');" class="TableStyle-To_SeeTable" cellspacing="1">
                                            <col style="width: 118px;" class="TableStyle-To_SeeTable-Column-Column1" />
                                            <col style="width: 974px;" class="TableStyle-To_SeeTable-Column-Column1" />
                                            <tbody>
                                                <tr>
                                                    <td style="font-size: 9pt;text-align: center;" class="TableStyle-To_SeeTable-BodyH-Column1-"><b>Activate</b>
                                                    </td>
                                                    <td style="font-size: 9pt;" class="TableStyle-To_SeeTable-BodyG-Column1-">The <b>Activate</b> action is used to activate a message. The message gets the status <i>Active</i> and if the <b>Active From</b> field is empty, the current date and time is assigned to the field when the action is pressed. <b>Recipients</b> and <b>Status</b> lines are created from the Recipients lines with the Recipient Status New.</td>
                                                </tr>
                                                <tr>
                                                    <td style="font-size: 9pt;text-align: center;" class="TableStyle-To_SeeTable-BodyH-Column1-"><b>Set Message as Processed</b>
                                                    </td>
                                                    <td style="font-size: 9pt;" class="TableStyle-To_SeeTable-BodyG-Column1-">This action is used to set the status of the current message to <i>Processed</i>.</td>
                                                </tr>
                                                <tr>
                                                    <td style="font-size: 9pt;text-align: center;" class="TableStyle-To_SeeTable-BodyH-Column1-"><b>Cancel Message</b>
                                                    </td>
                                                    <td style="font-size: 9pt;" class="TableStyle-To_SeeTable-BodyG-Column1-">This action is used to set the status of the current message to <i>Canceled</i>.</td>
                                                </tr>
                                                <tr>
                                                    <td style="font-size: 9pt;text-align: center;" class="TableStyle-To_SeeTable-BodyH-Column1-"><b>Process for Recipient - Set as Read</b>
                                                    </td>
                                                    <td style="font-size: 9pt;" class="TableStyle-To_SeeTable-BodyG-Column1-">This action can be used to set the recipient status to <i>Read</i> by Recipient. This will only mark the <b>Recipient</b> and <b>Status</b> line for the current logged in user. This action will not change the recipient status for other recipients.</td>
                                                </tr>
                                                <tr>
                                                    <td style="font-size: 9pt;text-align: center;" class="TableStyle-To_SeeTable-BodyH-Column1-"><b>Process for Recipient - Set as Processed</b>
                                                    </td>
                                                    <td style="font-size: 9pt;" class="TableStyle-To_SeeTable-BodyG-Column1-">This action can be used to set the recipient status to <i>Processed</i> by Recipient. This will only mark the <b>Recipient</b> and <b>Status</b> line for the currently logged in user. This action will not change the recipient status for other recipients.</td>
                                                </tr>
                                                <tr>
                                                    <td style="font-size: 9pt;text-align: center;" class="TableStyle-To_SeeTable-BodyB-Column1-"><b>Custom Process</b>
                                                    </td>
                                                    <td style="font-size: 9pt;" class="TableStyle-To_SeeTable-BodyA-Column1-">If a message contains an <b>Action Code</b>, the action can be run directly from the <b>Retail Message</b> card by pressing the <b>Custom Process</b> action.</td>
                                                </tr>
                                            </tbody>
                                        </table>
                                        <h2><a name="Active"></a>Active Retail Messages on POS</h2>
                                        <p>When a new message has been sent to the POS,&#160;the glyph for a new message appears on the <b>Retail Message</b> button. See how to set up the button in the <a href="Retail-Message-Setup.htm" class="MCXref xref">Retail Message Setup</a>.</p>
                                        <p>
                                            <img src="../../Resources/Images/LS Retail/Retail Messages/POS_NewMessageOnButton_700x472.png" style="width: 700;height: 472;" class="images" />
                                            <br />
                                            <br />When the <b>Retail Message</b> button on POS is pressed,  a list of active <b>Retail Messages</b> for the POS user is retrieved and displayed:</p>
                                        <p>
                                            <img src="../../Resources/Images/LS Retail/Retail Messages/POS_RetailMessageList_700x527.png" style="width: 700;height: 527;" />
                                        </p>
                                        <p>The messages are in descending order or the newest first. The order can be changed to ascending by pressing the <b>Activated</b> column header.</p>
                                        <p>Message details can be read by selecting the message in the list and pressing the <b>Read Message</b> button. The message opens in a new window and can be processed by pressing the <b>Process Message</b> button. If the message contains an <b>Action Code</b>, the corresponding codeunit is called. If the codeunit returns successfully, the <b>Recipients Status</b> is set to <i>Processed</i> by <b>Recipient</b> and the <b>Retail Message</b> is marked as <i>Processed</i>. On the other hand, if the message does not contain an <b>Action Code</b>, then only the <b>Recipient</b> is marked as <i>Processed</i> by <b>Recipient</b> but the status of the <b>Retail Message</b> is not changed until all recipients have processed the message.<br /><br />When a message is processed successfully, it is removed from the list but the list is not refreshed. That means that if new messages exist (since the window was loaded), they will not be added to the list unless the <b>Refresh</b> button is pressed.<br /></p>
                                        <p>After the messages have been read and the window closed, the envelope on the <b>Retail Messages</b> button will not be shown.<br /></p>
                                        <h2><a name="See"></a>See also</h2>
                                        <p><a href="Retail-Message-Setup.htm" class="MCXref xref">Retail Message Setup</a>
                                        </p>
                                        <p><a href="Retail-Message-Recipient-Groups.htm" class="MCXref xref">Retail Message Recipient Groups</a>
                                        </p>
                                        <p><a href="../Customer-Order/Customer-Order-Process.htm" class="MCXref xref">The Customer Order Process</a>
                                        </p>
                                        <p>&#160;</p>
                                        <p>&#160;</p>
                                    </div>
                                    <div id="footer" class="ls-nav-footer">
                                        <hr width="100%" size="0" align="center" />
                                        <p>© <span class="VariablesCurrentYear">2021</span> LS Retail ehf. All rights reserved.  </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div><a data-close="true"></a>
                </div>
            </div>
        </div>
    </body>
</html>