<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="_Skins_HTML5___Side_Navigation" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="../../../" data-mc-has-content-body="True" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="Retail|LS Data Director|Configuration|Configuration Data for DD Host">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="msapplication-config" content="../../../Skins/Favicons/browserconfig.xml" />
        <link rel="apple-touch-icon" sizes="180x180" href="../../../Skins/Favicons/apple-touch-icon.png" />
        <link rel="shortcut icon" href="../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="96x96" href="../../../Skins/Favicons/favicon-96x96.png" />
        <link rel="icon" sizes="32x32" href="../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="16x16" href="../../../Skins/Favicons/favicon-16x16.png" /><title>System Config</title>
        <link rel="shortcut icon" href="/Content/Resources/Images/favicon.ico" />
        <link href="../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" />
        <link href="../../../Skins/Fluid/Stylesheets/foundation.6.2.3.css" rel="stylesheet" />
        <link href="../../../Skins/Fluid/Stylesheets/Styles.css" rel="stylesheet" />
        <link href="../../../Skins/Fluid/Stylesheets/Tablet.css" rel="stylesheet" />
        <link href="../../../Skins/Fluid/Stylesheets/Mobile.css" rel="stylesheet" />
        <link href="../../Resources/Stylesheets/LSNav.css" rel="stylesheet" />
        <script src="../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.min.js" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/require.config.js" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/foundation.6.2.3_custom.js" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js" defer="defer">
        </script>
        <script src="../../Resources/Javascripts/Scroll-Button.js" defer="defer">
        </script>
    </head>
    <body>
        <div class="foundation-wrap off-canvas-wrapper">
            <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
                <aside class="off-canvas position-right" role="navigation" id="offCanvas" data-off-canvas="" data-position="right" data-mc-ignore="true">
                    <ul class="off-canvas-accordion vertical menu off-canvas-list" data-accordion-menu="" data-mc-back-link="Back" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True">
                    </ul>
                </aside>
                <div class="off-canvas-content inner-wrap" data-off-canvas-content="">
                    <div data-sticky-container="" class="title-bar-container">
                        <nav class="title-bar tab-bar sticky" data-sticky="" data-options="marginTop:0" style="width:100%" data-sticky-on="only screen and (max-width: 1279px)" data-mc-ignore="true"><a class="skip-to-content fluid-skip showOnFocus" href="#">Skip To Main Content</a>
                            <div class="middle title-bar-section outer-row clearfix">
                                <div class="menu-icon-container relative clearfix">
                                    <div class="central-dropdown" style="display:none;" id="#centralSmallScreen"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                        <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                            <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                        </div>
                                    </div>
                                    <button class="menu-icon" aria-label="Show Navigation Panel" data-toggle="offCanvas"><span></span>
                                    </button>
                                </div>
                            </div>
                            <div class="title-bar-layout outer-row">
                                <div class="logo-wrapper"><a class="logo" href="../../home.html" title="LS Central Help" alt="Logo"></a>
                                </div>
                                <div class="navigation-wrapper nocontent">
                                    <ul class="navigation clearfix" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="3" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                        <li class="placeholder" style="visibility:hidden"><a>placeholder</a>
                                        </li>
                                    </ul>
                                    <div class="central-dropdown" style="display:none;" id="#centralTop"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                        <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                            <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                        </div>
                                    </div>
                                </div>
                                <div class="nav-search-wrapper">
                                    <div class="nav-search row">
                                        <form class="search" action="#">
                                            <div class="search-bar search-bar-container needs-pie">
                                                <input class="search-field needs-pie" type="search" aria-label="Search Field" placeholder="Search" />
                                                <div class="search-filter-wrapper"><span class="invisible-label" id="search-filters-label">Filter: </span>
                                                    <div class="search-filter" aria-haspopup="true" aria-controls="sf-content" aria-expanded="false" aria-label="Search Filter" title="All Files" role="button" tabindex="0">
                                                    </div>
                                                    <div class="search-filter-content" id="sf-content">
                                                        <ul>
                                                            <li>
                                                                <button class="mc-dropdown-item" aria-labelledby="search-filters-label filterSelectorLabel-00001"><span id="filterSelectorLabel-00001">All Files</span>
                                                                </button>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="search-submit-wrapper" dir="ltr">
                                                    <div class="search-submit" title="Search" role="button" tabindex="0"><span class="invisible-label">Submit Search</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                    <div class="central-dropdown" style="display:none;"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                        <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                            <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </nav>
                    </div>
                    <div class="main-section">
                        <div class="row outer-row sidenav-layout">
                            <nav class="sidenav-wrapper">
                                <div class="sidenav-container">
                                    <ul class="off-canvas-accordion vertical menu sidenav" data-accordion-menu="" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu accordion-menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="False" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True" data-mc-side-nav-menu="True">
                                    </ul>
                                </div>
                            </nav>
                            <div class="body-container">
                                <div data-mc-content-body="True">
                                    <MadCap:conditionalText data-mc-conditions="Default.GoogleAnalytics">
                                        <script>/* <![CDATA[ */
				(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
				(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
				m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
				})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
			
				ga('create', 'UA-58791693-4', 'auto');
			
				var file = document.location.href; 
				file = file.substring(0, (file.indexOf("#") == -1) ? file.length : file.indexOf("#"));
				file = file.substring(0, (file.indexOf("?") == -1) ? file.length : file.indexOf("?"));
				file = file.substring(file.lastIndexOf("/") + 1, file.length);
 
				if (file === 'Search.htm') 
				{
					var newPath = document.location.pathname + document.location.search + document.location.hash;
					newPath = newPath.replace(/#/, '?');
					newPath = newPath.replace(/search\-/, 'q=');
					ga('set', 'page', newPath);
				
					function locationHashChanged()
					{
						newPath = document.location.pathname + document.location.search + document.location.hash;
						newPath = newPath.replace(/#/, '?');
						newPath = newPath.replace(/search\-/, 'q=');
						ga('set', 'page', newPath);
						ga('send', 'pageview');
					}
				
					if(window.HashChangeEvent)
					{
						window.onhashchange = locationHashChanged;
					}
				}
				ga('send', 'pageview');
			/* ]]> */</script>
                                    </MadCap:conditionalText>
                                    <div class="nocontent">
                                        <div class="MCBreadcrumbsBox_0 breadcrumbs" role="navigation" aria-label="Breadcrumbs" data-mc-breadcrumbs-divider=" &gt; " data-mc-breadcrumbs-count="3" data-mc-toc="True"><span class="MCBreadcrumbsPrefix">You are here: </span>
                                        </div>
                                    </div>
                                    <p>&#160;</p>
                                    <div role="main" id="mc-main-content">
                                        <h1><a name="aanchor10449"></a>
                                            <MadCap:concept term="Retail" />System Config</h1>
                                        <p>System settings are settings that affect the way the DD communicates between hosts. </p>
                                        <p class="shortcut"><a href="#Timeout" class="MCXref xref">Timeout values</a>
                                        </p>
                                        <p class="shortcut"><a href="#Data" class="MCXref xref">Data Threads, how does it all work?
        </a>
                                        </p>
                                        <p><b>Note:</b> These values should not be played with, if you do not know what they stand for. Most of them require a restart of the DD to take effect.</p>
                                        <p>
                                            <img src="../../Resources/Images/LS Data Director User Guide/Configuration_6_450x363.png" style="width: 450;height: 363;">
                                            </img>
                                        </p>
                                        <table>
                                            <col style="width: 250px;">
                                            </col>
                                            <col>
                                            </col>
                                            <tr>
                                                <th>Field</th>
                                                <th>Description</th>
                                            </tr>
                                            <tr>
                                                <td><b>Base Port</b>
                                                </td>
                                                <td>The Base Port used for all local DD Processes. Each process has an ID and the Port number for that process will be Base Port + Process ID. This generates the incoming port number for the process that will be used for debugging and other communication. It is not necessary to open these ports in a firewall, unless you want to be able to remotely debug the system.</td>
                                            </tr>
                                            <tr>
                                                <td><b>Data File Size</b>
                                                </td>
                                                <td>Maximum size of a Job Data File allowed to be transferred between DD hosts.</td>
                                            </tr>
                                            <tr>
                                                <td><b>Message Size</b>
                                                </td>
                                                <td>The maximum size of messages allowed to be sent between Processes and Hosts. This includes TS Requests, Configuration messages, and Result Messages. If a message is too large, an error message will appear when sending TS Request. <b>Tip:</b> Increase this value to allow larger message transfer.</td>
                                            </tr>
                                            <tr>
                                                <td><b>Compress Mode</b>
                                                </td>
                                                <td>Default Compression Mode to use on Data Files. ZipStream is the same as used by DD2, but this setting will not affect DD2 transfer.<table><col /><col /><col /><tr><th>Mode</th><th>File Size</th><th>Process Speed</th></tr><tr><td>ZipStream</td><td>Medium</td><td>Medium</td></tr><tr><td>ZipFile</td><td>Large</td><td>Fast</td></tr><tr><td>SevenZip</td><td>Small</td><td>Slow</td></tr><tr><td>None</td><td>Large</td><td>Fast</td></tr></table><p class="p_table">It can take a load off the Store Server to set Compression mode to<i> None </i>on the POS that is sending Transactions in DD mode to a Store Server on the same network. These jobs are small and there is no need to compress the data. Compression is only needed on slow connections via WAN. If jobs are large and DD is running on a 32 bit OS (x86), DD may run into Memory issues with compression. ZipFile mode allows larger files on a 32 bit OS.  When using Size parameters to split the files into file segments, it will be applied to that mode even if it is not set as Default mode. Compression mode can be changed in the Job setup.</p></td>
                                            </tr>
                                            <tr>
                                                <td><b>ZipFile Size</b>
                                                </td>
                                                <td>The size of each file segment when using ZipFile mode. If set to<i> 0</i>, no splitting will be done and only one big file will be generated.</td>
                                            </tr>
                                            <tr>
                                                <td><b>7Zip File Size</b>
                                                </td>
                                                <td>The size of each file segment when using SevenZip mode. If set to<i> 0</i>, no splitting will be done and only one big file will be generated.</td>
                                            </tr>
                                            <tr>
                                                <td><b>Shutdown Wait</b>
                                                </td>
                                                <td>The time DD Service waits between sending shutdown message to each DD Process when shutting down the DD Service.</td>
                                            </tr>
                                            <tr>
                                                <td><b>Router Wait</b>
                                                </td>
                                                <td>The time DD Service waits after starting the Router process before starting other DD processes, as it may take some time for the Router process to load all pending jobs from work folder back into memory. Also used for idle time between Data File check and cleanup.</td>
                                            </tr>
                                            <tr>
                                                <td><b>Kill Wait</b>
                                                </td>
                                                <td>The time DD Service waits for all processes to shut down before a kill command will be sent out to kill remaining processes.</td>
                                            </tr>
                                            <tr>
                                                <td><b>Multi Job Processing</b>
                                                </td>
                                                <td>Works only for SQL Connection. Tells DD to allow processing of more than one Job type at same time. This will span more threads and requires more user licenses from the SQL Server. You also need to increase the Data Thread Limit to allow more job processing at same time.</td>
                                            </tr>
                                            <tr>
                                                <td><b>Forward Thread Limit</b>
                                                </td>
                                                <td>Sets the limit of threads used to make a connection to remote hosts and when forwarding jobs at the same time.</td>
                                            </tr>
                                            <tr>
                                                <td><b>Data Thread Limit</b>
                                                </td>
                                                <td>Sets the limit of threads used to connect to databases and process jobs at same time.  If CFront mode is active under App Config, this sets the number of Processes used to process CFront jobs (fin).<br /><b> Note:</b> Each Data Thread takes up user license on the database server.</td>
                                            </tr>
                                            <tr>
                                                <td><b>Data Thread Priority</b>
                                                </td>
                                                <td>Sets the Priority on Database Thread for Job Processing. This does not affect the Interactive (TS) processing.</td>
                                            </tr>
                                            <tr>
                                                <td><b>Lock Code</b>
                                                </td>
                                                <td>Password for remote DD Configuration. If set, DD will ask for password when sending configuration update. Lock code can only be set or changed on local configuration, not after you press the <b>Get Config </b>button. This is to prevent remote changes on the Lock code.</td>
                                            </tr>
                                            <tr>
                                                <td><b>ZipFile / 7Zip Pwd</b>
                                                </td>
                                                <td>Password to protect ZipFile or SevenZip data files. The password has to be set on both Source and Destination DDs.</td>
                                            </tr>
                                            <tr>
                                                <td><b>Open Timeout</b>
                                                </td>
                                                <td>The time provided for a connection to open before the transport raises an exception.</td>
                                            </tr>
                                            <tr>
                                                <td><b>Data Send Timeout</b>
                                                </td>
                                                <td>The time provided for a write operation to complete before the transport raises an exception when sending job data files.</td>
                                            </tr>
                                            <tr>
                                                <td><b>Config Send Timeout</b>
                                                </td>
                                                <td>The time provided for a write operation to complete before the transport raises an exception when sending configuration commands and TS requests.</td>
                                            </tr>
                                            <tr>
                                                <td><b>Receive Timeout</b>
                                                </td>
                                                <td>The time that a connection can remain inactive, during which no application messages are received before it is dropped.</td>
                                            </tr>
                                            <tr>
                                                <td><b>Max Connections</b>
                                                </td>
                                                <td>The value that controls the maximum number of connections to be pooled for subsequent reuse on the client and the maximum number of connections allowed being pending dispatch on the server.</td>
                                            </tr>
                                            <tr>
                                                <td><b>Reset Config</b>
                                                </td>
                                                <td>Send the Reset command to DD host to clear the Configuration file and load default configuration data as it is on clean install.</td>
                                            </tr>
                                        </table>
                                        <h2><a name="Timeout"></a>Timeout values</h2>
                                        <p>There are a few timeout values to adjust. To let the POS not hang if a store server is down, you can set the <b>TS Timeout </b>value in the <b>Distribution Location</b> card. This affects the total transfer time that POS is allowed to take when sending request to DD/TS. If the value is not set there, the <b>Open </b>and<b> Send Timeouts</b> in System Config will apply. If DD/TS have not finished processing the request before the TS Timeout expires, the request will be canceled. So make sure that this value is long enough for the request to finish, otherwise it will end a good request prematurely. </p>
                                        <p>These values need to be set in the Configuration on the POS Host. You can run the DD Configuration tool to set these values there, even if the Host is not running any DD Services.</p>
                                        <p>When setting these values on a host running a DD Service, make sure the send value is long enough for the largest jobs to be able to be forwarded to the next host. Also, do not set the <b>TS Timeout </b>values in the <b>Distribution </b>card for DD Jobs sent by the Scheduler, as it may let the Scheduler fail sending jobs to DD Service.</p>
                                        <h2><a name="Data"></a>Data Threads, how does it all work?
        </h2>
                                        <p>DD uses two threads to process Database jobs. One is for Query jobs and the other for Insert/Update. This means that the DD can be processing both jobs at the same time. DD does this for each host that it is connecting to, so if the jobs are set up to use databases on two different hosts, the DD will have two Database threads for each host: one doing query and one for “done doing insert/update”.</p>
                                        <p>The <b>Data Thread Limit </b>value limits DD on how many Databases DD will process at same time.  If the value is <i>2</i>, the DD can process two Databases at the same time, and can process both queries and insert jobs for each host, so a total of four threads can be running. If this value is set to a high value, the DD will take up most of the CPU power on the host.</p>
                                        <p>When using CFront mode (App Config), <b>Data Thread Limit</b> controls how many Processes will be started to process CFront jobs. Because CFront is not designed to handle multi-thread processing, this is needed so DD can process more databases at same time without running into error.</p>
                                        <p>You can also set the <b>Thread Priority</b> for the Database threads. If you set a low priority, even if the DD has taken up 100% CPU load, other programs on the computer should not become slow in operation. This priority only affects the Job Processing; it does not affect interactive requests like TS Queries.</p>
                                        <p><b>Note:</b> There is no one correct way of setting these values. It all depends on what kind of data is being replicated and how powerful the computer is that the DD is running on. You should monitor the CPU Load, Disk Load and Network Load when adjusting these values, and set the values to something that the computer, database, and network can handle.</p>
                                        <p>&#160;</p>
                                        <p data-mc-conditions="Default.NotPrint">&#160;</p>
                                    </div>
                                    <div id="footer" class="ls-nav-footer">
                                        <hr width="100%" size="0" align="center" />
                                        <p>© <span class="VariablesCurrentYear">2021</span> LS Retail ehf. All rights reserved.  </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div><a data-close="true"></a>
                </div>
            </div>
        </div>
    </body>
</html>