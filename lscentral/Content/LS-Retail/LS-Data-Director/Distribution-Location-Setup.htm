<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="_Skins_HTML5___Side_Navigation" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="../../../" data-mc-has-content-body="True" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="Retail|LS Data Director">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="msapplication-config" content="../../../Skins/Favicons/browserconfig.xml" />
        <link rel="apple-touch-icon" sizes="180x180" href="../../../Skins/Favicons/apple-touch-icon.png" />
        <link rel="shortcut icon" href="../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="96x96" href="../../../Skins/Favicons/favicon-96x96.png" />
        <link rel="icon" sizes="32x32" href="../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="16x16" href="../../../Skins/Favicons/favicon-16x16.png" /><title>Distribution Location Setup</title>
        <link rel="shortcut icon" href="/Content/Resources/Images/favicon.ico" />
        <link href="../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" />
        <link href="../../../Skins/Fluid/Stylesheets/foundation.6.2.3.css" rel="stylesheet" />
        <link href="../../../Skins/Fluid/Stylesheets/Styles.css" rel="stylesheet" />
        <link href="../../../Skins/Fluid/Stylesheets/Tablet.css" rel="stylesheet" />
        <link href="../../../Skins/Fluid/Stylesheets/Mobile.css" rel="stylesheet" />
        <link href="../../Resources/Stylesheets/LSNav.css" rel="stylesheet" />
        <script src="../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.min.js" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/require.config.js" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/foundation.6.2.3_custom.js" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js" defer="defer">
        </script>
        <script src="../../Resources/Javascripts/Scroll-Button.js" defer="defer">
        </script>
    </head>
    <body>
        <div class="foundation-wrap off-canvas-wrapper">
            <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
                <aside class="off-canvas position-right" role="navigation" id="offCanvas" data-off-canvas="" data-position="right" data-mc-ignore="true">
                    <ul class="off-canvas-accordion vertical menu off-canvas-list" data-accordion-menu="" data-mc-back-link="Back" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True">
                    </ul>
                </aside>
                <div class="off-canvas-content inner-wrap" data-off-canvas-content="">
                    <div data-sticky-container="" class="title-bar-container">
                        <nav class="title-bar tab-bar sticky" data-sticky="" data-options="marginTop:0" style="width:100%" data-sticky-on="only screen and (max-width: 1279px)" data-mc-ignore="true"><a class="skip-to-content fluid-skip showOnFocus" href="#">Skip To Main Content</a>
                            <div class="middle title-bar-section outer-row clearfix">
                                <div class="menu-icon-container relative clearfix">
                                    <div class="central-dropdown" style="display:none;" id="#centralSmallScreen"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                        <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                            <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                        </div>
                                    </div>
                                    <button class="menu-icon" aria-label="Show Navigation Panel" data-toggle="offCanvas"><span></span>
                                    </button>
                                </div>
                            </div>
                            <div class="title-bar-layout outer-row">
                                <div class="logo-wrapper"><a class="logo" href="../../home.html" title="LS Central Help" alt="Logo"></a>
                                </div>
                                <div class="navigation-wrapper nocontent">
                                    <ul class="navigation clearfix" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="3" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                        <li class="placeholder" style="visibility:hidden"><a>placeholder</a>
                                        </li>
                                    </ul>
                                    <div class="central-dropdown" style="display:none;" id="#centralTop"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                        <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                            <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                        </div>
                                    </div>
                                </div>
                                <div class="nav-search-wrapper">
                                    <div class="nav-search row">
                                        <form class="search" action="#">
                                            <div class="search-bar search-bar-container needs-pie">
                                                <input class="search-field needs-pie" type="search" aria-label="Search Field" placeholder="Search" />
                                                <div class="search-filter-wrapper"><span class="invisible-label" id="search-filters-label">Filter: </span>
                                                    <div class="search-filter" aria-haspopup="true" aria-controls="sf-content" aria-expanded="false" aria-label="Search Filter" title="All Files" role="button" tabindex="0">
                                                    </div>
                                                    <div class="search-filter-content" id="sf-content">
                                                        <ul>
                                                            <li>
                                                                <button class="mc-dropdown-item" aria-labelledby="search-filters-label filterSelectorLabel-00001"><span id="filterSelectorLabel-00001">All Files</span>
                                                                </button>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="search-submit-wrapper" dir="ltr">
                                                    <div class="search-submit" title="Search" role="button" tabindex="0"><span class="invisible-label">Submit Search</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                    <div class="central-dropdown" style="display:none;"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                        <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                            <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </nav>
                    </div>
                    <div class="main-section">
                        <div class="row outer-row sidenav-layout">
                            <nav class="sidenav-wrapper">
                                <div class="sidenav-container">
                                    <ul class="off-canvas-accordion vertical menu sidenav" data-accordion-menu="" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu accordion-menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="False" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True" data-mc-side-nav-menu="True">
                                    </ul>
                                </div>
                            </nav>
                            <div class="body-container">
                                <div data-mc-content-body="True">
                                    <MadCap:conditionalText data-mc-conditions="Default.GoogleAnalytics">
                                        <script>/* <![CDATA[ */
				(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
				(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
				m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
				})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
			
				ga('create', 'UA-58791693-4', 'auto');
			
				var file = document.location.href; 
				file = file.substring(0, (file.indexOf("#") == -1) ? file.length : file.indexOf("#"));
				file = file.substring(0, (file.indexOf("?") == -1) ? file.length : file.indexOf("?"));
				file = file.substring(file.lastIndexOf("/") + 1, file.length);
 
				if (file === 'Search.htm') 
				{
					var newPath = document.location.pathname + document.location.search + document.location.hash;
					newPath = newPath.replace(/#/, '?');
					newPath = newPath.replace(/search\-/, 'q=');
					ga('set', 'page', newPath);
				
					function locationHashChanged()
					{
						newPath = document.location.pathname + document.location.search + document.location.hash;
						newPath = newPath.replace(/#/, '?');
						newPath = newPath.replace(/search\-/, 'q=');
						ga('set', 'page', newPath);
						ga('send', 'pageview');
					}
				
					if(window.HashChangeEvent)
					{
						window.onhashchange = locationHashChanged;
					}
				}
				ga('send', 'pageview');
			/* ]]> */</script>
                                    </MadCap:conditionalText>
                                    <div class="nocontent">
                                        <div class="MCBreadcrumbsBox_0 breadcrumbs" role="navigation" aria-label="Breadcrumbs" data-mc-breadcrumbs-divider=" &gt; " data-mc-breadcrumbs-count="3" data-mc-toc="True"><span class="MCBreadcrumbsPrefix">You are here: </span>
                                        </div>
                                    </div>
                                    <p>&#160;</p>
                                    <div role="main" id="mc-main-content">
                                        <h1><a name="aanchor2776"></a>
                                            <MadCap:concept term="Retail" />Distribution Location Setup</h1>
                                        <p>Scheduler generates Job data and sends it to DD Host. Depending on <span class="GeneralLSCentral_Mini">LS&#160;Central</span> / LS Nav version, the request either goes directly to DD Host Service or needs to be sent first to DD Web Service which then forwards the job to correct DD Host Service. DD Host Service then takes care of pulling the data from the source and forwards it destination Host.</p>
                                        <p class="shortcut"><a href="#B" class="MCXref xref">B - WS Distribution Server</a>
                                        </p>
                                        <p class="shortcut"><a href="#A" class="MCXref xref">A - Data Director</a>
                                        </p>
                                        <p class="shortcut"><a href="#C" class="MCXref xref">C - Replication</a>
                                        </p>
                                        <p class="shortcut"><a href="#D" class="MCXref xref">D - Web Server</a>
                                        </p>
                                        <p>Scheduler Job uses CodeUnits to create the Scheduler Jobs : </p>
                                        <ul>
                                            <li value="1">99001474 Data Distribution v3.0 – Uses TransAutomClient DLLs to communicate with DD.</li>
                                            <li value="2">99008923 Data Distribution WS – Sends request via DD Web Service to DD.</li>
                                        </ul>
                                        <p>
                                            <img src="../../Resources/Images/LS Data Director User Guide/Distribution Location Setup_2_350x308.png" style="width: 350;height: 308;" />
                                        </p>
                                        <p>&#160;</p>
                                        <p>
                                            <img src="../../Resources/Images/LS Data Director User Guide/Distribution Location Setup_3_650x1125.png" style="width: 650;height: 1125;" class="images" />
                                        </p>
                                        <h2><a name="B"></a>B - WS Distribution Server</h2>
                                        <p><span class="GeneralLSCentral_Mini">LS&#160;Central</span> 16 and later no longer includes the DD DLLs and TransAutomClient control that used to handle all communication from <span class="GeneralLSCentral_Mini">LS&#160;Central</span> to the Data Director. Scheduler will be sent the job data to DD Web Service which generates standard DD Data package and then sends it to the Source DD Host Service.</p>
                                        <p>Enter the DD Web Service URL into the <b>WS Distribution Server URL</b> field without the <i>DDJson.svc </i>ending. If DD Web Service is running as HTTPS, user name and password that has access to IIS is needed.</p>
                                        <p>All the processing works like it did before. Job data will appear in the <b>Work </b>folder and destination processing will be done directly between DD Services.</p>
                                        <h2><a name="A"></a>A - Data Director</h2>
                                        <p>By default DD3 uses port 16860 for TCP Communication and 16850 for TCPS Communication. If you need to use some other port or use some other Network modes, you need to set these values in the <b>Distribution Location Card </b>for the Host.</p>
                                        <li value="18">Select <b>DD Network Mode</b>, type in host where DD is running into <b>Distribution Server</b> and <b>Server Port</b> is the Port that DD is using. If DD is using a default port, you can leave this field blank.</li>
                                        <p>The table below lists all Network Modes that the DD uses and the Default Port for each of them:</p>
                                        <table align="center">
                                            <col style="width: 86px;" />
                                            <col style="width: 77px;" />
                                            <col style="width: 63px;" />
                                            <col style="width: 198px;" />
                                            <tr>
                                                <th>Mode</th>
                                                <th>Network Mode</th>
                                                <th>Port</th>
                                                <th>Description</th>
                                            </tr>
                                            <tr>
                                                <td>TCP</td>
                                                <td>TCP</td>
                                                <td>16860</td>
                                                <td>Standard TCP</td>
                                            </tr>
                                            <tr>
                                                <td>TCPS</td>
                                                <td>TCPS</td>
                                                <td>16850</td>
                                                <td>Secured TCP</td>
                                            </tr>
                                            <tr>
                                                <td>DD2</td>
                                                <td>DDOLD</td>
                                                <td>16750</td>
                                                <td>Old Socket Connection for DD2</td>
                                            </tr>
                                            <tr>
                                                <td>OFFLINE</td>
                                                <td>OFF</td>
                                                <td>&#160;</td>
                                                <td>For Pulling host</td>
                                            </tr>
                                            <tr>
                                                <td>MANUAL</td>
                                                <td>MAN</td>
                                                <td>&#160;</td>
                                                <td>For Manual Job Transfer</td>
                                            </tr>
                                        </table>
                                        <p>The format for the distribution server host is <i>&lt;DDSERVICE&gt;:&lt;PORT&gt;:&lt;NETMODE&gt;</i></p>
                                        <p>If the DD host is behind a firewall, make sure you open access for both DD3 (16860) and  DD2 (16750) ports, or add <i>DDRouter.exe </i>and <i>DDIncoming.exe</i> to the firewall allowed programs.</p>
                                        <p>If you are using IP address for destination hosts, make sure the host can reply back to the source host. If the source host name is not known at the destination, you need to add Return IP Address in the Base Config that the destination host can use to route the status reply back to the source.</p>
                                        <p>If you are using IPv6 Address for hosts, put them inside brackets like this: [2001:cdba:0:0:0:0:3257:9652] and if you need to add a port or mode with it, the format is:[2001:cdba:0:0:0:0:3257:9652]:16860:TCP</p>
                                        <h3>Routing via other DDs</h3>
                                        <p>The DD also supports the routing of a Job via other DDs. This means that you can send a Job from HO, via a Store DD that sits behind a firewall, and then onward to a POS DD, which the HO does not have direct access to. </p>
                                        <p>If all DDs are running on default port setup, you would type into the<b> Distribution Sever</b> field for the POS location: <i>STSRV;POS01</i>. <br />If the DDs are not on the default port, the format is: STSRV:16860:TCP;POS01:16860:TCP. </p>
                                        <p>As mentioned in the Configuration Tool  <a href="DD-Hosts.htm" class="MCXref xref">DD Hosts</a> section, a location can have a parent location and in this case a parent location for POS01 is STSRV. When the DD sends a job or any other request to POS01, the job will first go to STSRV and then be forwarded to POS01.</p>
                                        <p>There is no limit on how many child hosts you can add, just separate the hosts with a semicolon (;) The order of how a job is routed is the same order as the hosts in the list, and the last host is the host that will process the job.</p>
                                        <h3>Routing via backup DD Host</h3>
                                        <p>In previous versions the Data Director supported a backup host for a destination location. This is no longer supported in the way it was designed at time of Windows XP.</p>
                                        <p>To set up backup DD, the best way is to use DNS or Round Robin DNS setup where DNS handles the routing to a backup host running backup DD Service. </p>
                                        <p>Source DD will send jobs to DDHO and DNS will handle routing the job either to DDHO1 or DDHO2.</p>
                                        <ul>
                                            <li value="1">In both of those DDs, put DDHO in the <b>Aliases </b>field in the DD Configuration Tool, so both of them will accept jobs being sent to DDHO.</li>
                                        </ul>
                                        <h2><a name="C"></a>C - Replication</h2>
                                        <p>Information needed to connect to Database, type of database and other settings related to database connection. See <a href="Data-Director-Connection-Strings.htm" class="MCXref xref">Data Director Connection Strings</a> for connection string samples and database types.</p>
                                        <h2><a name="D"></a>D - Web Server</h2>
                                        <p>Used when pulling data or sending data via <span class="GeneralLSCentral_Mini">LS&#160;Central</span> Web Service. Set the URL for <span class="GeneralLSCentral_Mini">LS&#160;Central</span> Web Service and user name and password which has access to connect.</p>
                                        <h2><a name="See"></a>See also</h2>
                                        <p><a href="Quick-Guides/Distribution-Server-Name.htm" class="MCXref xref">Distribution Server Name</a>
                                        </p>
                                        <p><a href="Quick-Guides/Distribution-Sample-Cloud.htm" class="MCXref xref">Distribution Location Sample</a>
                                        </p>
                                        <p>&#160;</p>
                                        <p data-mc-conditions="Default.NotPrint">&#160;</p>
                                    </div>
                                    <div id="footer" class="ls-nav-footer">
                                        <hr width="100%" size="0" align="center" />
                                        <p>© <span class="VariablesCurrentYear">2021</span> LS Retail ehf. All rights reserved.  </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div><a data-close="true"></a>
                </div>
            </div>
        </div>
    </body>
</html>