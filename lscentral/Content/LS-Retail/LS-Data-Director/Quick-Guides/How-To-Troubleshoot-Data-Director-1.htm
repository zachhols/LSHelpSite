<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="_Skins_HTML5___Side_Navigation" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="../../../../" data-mc-has-content-body="True" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="Retail|LS Data Director|[%=System.LinkedTitle%]">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="msapplication-config" content="../../../../Skins/Favicons/browserconfig.xml" />
        <link rel="apple-touch-icon" sizes="180x180" href="../../../../Skins/Favicons/apple-touch-icon.png" />
        <link rel="shortcut icon" href="../../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="96x96" href="../../../../Skins/Favicons/favicon-96x96.png" />
        <link rel="icon" sizes="32x32" href="../../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="16x16" href="../../../../Skins/Favicons/favicon-16x16.png" /><title>How to: Troubleshoot Data Director 3.02.xx</title>
        <link rel="shortcut icon" href="/Content/Resources/Images/favicon.ico" />
        <link href="../../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" />
        <link href="../../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="../../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" />
        <link href="../../../../Skins/Fluid/Stylesheets/foundation.6.2.3.css" rel="stylesheet" />
        <link href="../../../../Skins/Fluid/Stylesheets/Styles.css" rel="stylesheet" />
        <link href="../../../../Skins/Fluid/Stylesheets/Tablet.css" rel="stylesheet" />
        <link href="../../../../Skins/Fluid/Stylesheets/Mobile.css" rel="stylesheet" />
        <link href="../../../Resources/Stylesheets/LSNav.css" rel="stylesheet" />
        <script src="../../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../../Resources/Scripts/require.min.js" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/require.config.js" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/foundation.6.2.3_custom.js" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/plugins.min.js" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapAll.js" defer="defer">
        </script>
        <script src="../../../Resources/Javascripts/Scroll-Button.js" defer="defer">
        </script>
    </head>
    <body>
        <div class="foundation-wrap off-canvas-wrapper">
            <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
                <aside class="off-canvas position-right" role="navigation" id="offCanvas" data-off-canvas="" data-position="right" data-mc-ignore="true">
                    <ul class="off-canvas-accordion vertical menu off-canvas-list" data-accordion-menu="" data-mc-back-link="Back" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True">
                    </ul>
                </aside>
                <div class="off-canvas-content inner-wrap" data-off-canvas-content="">
                    <div data-sticky-container="" class="title-bar-container">
                        <nav class="title-bar tab-bar sticky" data-sticky="" data-options="marginTop:0" style="width:100%" data-sticky-on="only screen and (max-width: 1279px)" data-mc-ignore="true"><a class="skip-to-content fluid-skip showOnFocus" href="#">Skip To Main Content</a>
                            <div class="middle title-bar-section outer-row clearfix">
                                <div class="menu-icon-container relative clearfix">
                                    <div class="central-dropdown" style="display:none;" id="#centralSmallScreen"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                        <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                            <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                        </div>
                                    </div>
                                    <button class="menu-icon" aria-label="Show Navigation Panel" data-toggle="offCanvas"><span></span>
                                    </button>
                                </div>
                            </div>
                            <div class="title-bar-layout outer-row">
                                <div class="logo-wrapper"><a class="logo" href="../../../home.html" title="LS Central Help" alt="Logo"></a>
                                </div>
                                <div class="navigation-wrapper nocontent">
                                    <ul class="navigation clearfix" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="3" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                        <li class="placeholder" style="visibility:hidden"><a>placeholder</a>
                                        </li>
                                    </ul>
                                    <div class="central-dropdown" style="display:none;" id="#centralTop"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                        <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                            <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                        </div>
                                    </div>
                                </div>
                                <div class="nav-search-wrapper">
                                    <div class="nav-search row">
                                        <form class="search" action="#">
                                            <div class="search-bar search-bar-container needs-pie">
                                                <input class="search-field needs-pie" type="search" aria-label="Search Field" placeholder="Search" />
                                                <div class="search-filter-wrapper"><span class="invisible-label" id="search-filters-label">Filter: </span>
                                                    <div class="search-filter" aria-haspopup="true" aria-controls="sf-content" aria-expanded="false" aria-label="Search Filter" title="All Files" role="button" tabindex="0">
                                                    </div>
                                                    <div class="search-filter-content" id="sf-content">
                                                        <ul>
                                                            <li>
                                                                <button class="mc-dropdown-item" aria-labelledby="search-filters-label filterSelectorLabel-00001"><span id="filterSelectorLabel-00001">All Files</span>
                                                                </button>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="search-submit-wrapper" dir="ltr">
                                                    <div class="search-submit" title="Search" role="button" tabindex="0"><span class="invisible-label">Submit Search</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                    <div class="central-dropdown" style="display:none;"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                        <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                            <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </nav>
                    </div>
                    <div class="main-section">
                        <div class="row outer-row sidenav-layout">
                            <nav class="sidenav-wrapper">
                                <div class="sidenav-container">
                                    <ul class="off-canvas-accordion vertical menu sidenav" data-accordion-menu="" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu accordion-menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="False" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True" data-mc-side-nav-menu="True">
                                    </ul>
                                </div>
                            </nav>
                            <div class="body-container">
                                <div data-mc-content-body="True">
                                    <MadCap:conditionalText data-mc-conditions="Default.GoogleAnalytics">
                                        <script>/* <![CDATA[ */
				(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
				(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
				m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
				})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
			
				ga('create', 'UA-58791693-4', 'auto');
			
				var file = document.location.href; 
				file = file.substring(0, (file.indexOf("#") == -1) ? file.length : file.indexOf("#"));
				file = file.substring(0, (file.indexOf("?") == -1) ? file.length : file.indexOf("?"));
				file = file.substring(file.lastIndexOf("/") + 1, file.length);
 
				if (file === 'Search.htm') 
				{
					var newPath = document.location.pathname + document.location.search + document.location.hash;
					newPath = newPath.replace(/#/, '?');
					newPath = newPath.replace(/search\-/, 'q=');
					ga('set', 'page', newPath);
				
					function locationHashChanged()
					{
						newPath = document.location.pathname + document.location.search + document.location.hash;
						newPath = newPath.replace(/#/, '?');
						newPath = newPath.replace(/search\-/, 'q=');
						ga('set', 'page', newPath);
						ga('send', 'pageview');
					}
				
					if(window.HashChangeEvent)
					{
						window.onhashchange = locationHashChanged;
					}
				}
				ga('send', 'pageview');
			/* ]]> */</script>
                                    </MadCap:conditionalText>
                                    <div class="nocontent">
                                        <div class="MCBreadcrumbsBox_0 breadcrumbs" role="navigation" aria-label="Breadcrumbs" data-mc-breadcrumbs-divider=" &gt; " data-mc-breadcrumbs-count="3" data-mc-toc="True"><span class="MCBreadcrumbsPrefix">You are here: </span>
                                        </div>
                                    </div>
                                    <p>&#160;</p>
                                    <div role="main" id="mc-main-content">
                                        <h1><a name="aanchor7055"></a>
                                            <MadCap:concept term="Retail" />How to: Troubleshoot Data Director 3.02.xx</h1>
                                        <p>The following are basic steps on how to handle errors that may come up in DD3.</p>
                                        <h4>CFront is not correct version, either too old or never</h4>
                                        <p>The files in the cfront folder are pulled from the NAV installation or Hotfixes that may have been applied. To match the version of the current NAV Server, update the files in the cfront folder with files from your installation. Most files can be found in the NAV Client folder and the cfront dll files are located in Devkit folder on the NAV CD or in the latest Hotfix that may have been applied.</p>
                                        <h4>DD License file is invalid</h4>
                                        <p>If you have an older version of the DD License file, you need an updated file. To check if your file is an older version or not, open it with Notepad, and if it starts with DD_LIC you have an older file, but if it starts with DD_LIC1 then you have a newer file and it should work with DD3.</p>
                                        <h4>Error: Dynamic NAV Developer client is not installed, but it is....</h4>
                                        <p>DD 3.2.16 has a fixed path for the NAV 2013 Developer client, so if you are running the newer 2013 R2 or later, DD may come up with this error. There is a work around to fix this, but a later version of DD will also have fix for this.</p>
                                        <p>Add Registry key: </p>
                                        <p>HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Microsoft Dynamics NAV\70\RoleTailored Client<br />Value: Path=</p>
                                        <p>You will have this value under different version folder, for example 71, but DD 3.2.16 or older only looks under version 70 for the path.</p>
                                        <h4>Date value is off by a day when sending data with TS</h4>
                                        <p>If Date value is off by a day (ahead or behind), modify the Codeunits: 99008908 &amp; 99008920 function: AddValuesGeneric change the Code for 'Date' to:</p>
                                        <p style="font-family: 'Courier New';">'Date':<br />BEGIN<br />tmpDate := FldRef.VALUE;<br />DataClient3.SetAsString(BOUtil.STDDateToString(tmpDate)) //LS7.1-03<br />END;</p>
                                        <p><b>Note:</b> The code is twice in within the function, change both sections to same code.</p>
                                        <h4>After Installing DD 3.2.8 or later, Nav gives error message when running job</h4>
                                        <p>Registration process of the TransAutomClient changed for support with NAV 2013, and it may cause an error when running codeunits that point to the older DD3 client control.</p>
                                        <p>Uninstall older DD, clear the Registry out of any trace of TransAutomClient entry (delete the key that includes the entry), and then install DD again.</p>
                                        <p>Check if the DataClient variable in NAV Codeunit Global Variables is pointing to TransAutomClient 3.2 and does not show Unknown Automation Server.TransAutomClient</p>
                                        <p>LS NAV Codeunits that need to be validated are:</p>
                                        <ul>
                                            <li value="1">99001474 Data Distribution v3.0</li>
                                            <li value="2">99001475 Distribute FOB Objects v3.0</li>
                                            <li value="3">99001476 Data Director Utils v3.0</li>
                                            <li value="4">99008920 POS Data Client Utility v3.0</li>
                                        </ul>
                                        <h4>PlusCFrontClient: ConnectServerAndOpenDatabase error</h4>
                                        <p>Check the document Troubleshot DD2 for more details on this error.</p>
                                        <h4>Data Director hangs, and does not process jobs or always shows Error</h4>
                                        <p>First upgrade to the latest DD from the <a href="https://portal.lsretail.com/products/ls-central/ls-data-director/?tab=overview">LS Retail Portal</a> (Latest Version). If that does not help, activate debugging and catch the error and see if it is something that points out what could be wrong, if not send the logs to LS Retail Support. Any DD version older than 3.2.22 should be upgraded to the latest version, if there is any strange error or behavior.</p>
                                        <h4>DD fails to start up after upgrading from 3.2.12 or older </h4>
                                        <p>The configuration file may be out of date and missing necessary data for DD to start. In the DD Configuration Tool, <b>click Get Config</b> for the DD Host, then click <b>Send Config</b>. This will update the configuration file to the latest version without overriding any modifications that have been done to it. If you want fresh configuration files with default settings, go to the <b>System Config</b> tab and click the <b>Reset Config</b> button.</p>
                                        <h4>Error 12305</h4>
                                        <p>Error 12305 is a general error for communication. To find out what is going on, open the Configuration Tool, go to the <b>Debug</b> tab, open the Debug on the DD Old and Router applications, and connect to it. You will see a more detailed error log there why the DD cannot process the request. See the Manual for information on using the DD3 TransAutomClient that can display the real error message to the NAV Client.</p>
                                        <h4>Error 12306</h4>
                                        <p>Error 12306 is a general error from the Database processing. To find out what is going on, open the Configuration Tool, go to the <b>Debug</b> tab, open the Debug on the Database application, and connect to it. You will see a more detailed error log there why the DD cannot process the request. See the Manual for information on using the DD3 TransAutomClient that can display the real error message to the NAV Client.</p>
                                        <h4>Null Data, Wrong Field Type or Wrong DateTime when replicating NAV 2013</h4>
                                        <p>Use DD 3.2.16 or newer. Do not do any field mapping or if you have, check if Field types are the same on both fields. Check the connection string that it has plugin version parameter |ms|nav7xx.</p>
                                        <h4>A Call to TransAutomClient failed because object type cannot be converted or DLL cannot be found</h4>
                                        <p>If the DD DLL cannot be found, copy the latest DLL from the DD bin folder and add them to the Add-ins folders, both for Role Tailor Client and Service Tier.</p>
                                        <p>If there is a convert error, there is a mismatch in DD DLLs version in the Add-ins folders. Copy the latest DLL from the DD bin folder and replace all files in all Add-ins folders, both for Role Tailor Client and Service Tier. </p>
                                        <p>The DD DLLs that are needed are: </p>
                                        <ul>
                                            <li value="1">DDConfigClient.dll </li>
                                            <li value="2">LSRetail.DD.Common.Data.dll </li>
                                            <li value="3">LSRetail.DD.Common.dll</li>
                                            <li value="4">TransAutomClient.dll.</li>
                                        </ul>
                                        <p>In some cases it is needed to import all the CodeUnits that use the TransAutomClient.dll again and recompile them. The codeunits can be found under the Objects\TXT folder in the LS Retail Nav release package.</p>
                                        <p>LS NAV Codeunits that need to be validated are:</p>
                                        <ul>
                                            <li value="1">99001474 Data Distribution v3.0</li>
                                            <li value="2">99001475 Distribute FOB Objects v3.0</li>
                                            <li value="3">99001476 Data Director Utils v3.0</li>
                                            <li value="4">99008920 POS Data Client Utility v3.0</li>
                                        </ul>
                                        <h4>DD is holding up user sessions on NAV Database</h4>
                                        <p>When DD is used for Transaction request, like from POS, it may take up a lot of sessions if there are many requests coming in at same time. To release the session, set the Timeout value under App Data for Database connection to timeout after 1 min. Also use the latest version of DD as there may have been some fixes done to help releasing the session if they get locked for long time.</p>
                                        <h4>How to activate File Debug Logging</h4>
                                        <ol>
                                            <li value="1">Open the DD Configuration Tool.</li>
                                            <li value="2">Go to the <b>Debugging</b> tab.</li>
                                            <li value="3">For DD Processing Logging, click the <b>Get Config</b> button, type in 15 in the <b>Startup Level</b> box for <b>Router</b>, <b>Database</b> and <b>DD Old</b>, click the <b>Send Config</b> button or Restart DD. The log files will appear under Log folder in Data Folder (see <b>Base Config</b> tab).</li>
                                            <li value="4">For Errors that show up in NAV, like connection problems or Scheduler job error, type in 15 in to the Client Control Field. Restart NAV Client/NAS Service. The log files will appear under Log folder in Data Folder (See Base Config tab). For NAV Client you may need to run it As Administrator for logging to work.<p><img src="../../../Resources/Images/LS Data Director QuickGuides/Troubleshooting DD3/How to troubleshot Data Director_1_450x205.png" style="width: 450;height: 205;" /></p></li>
                                        </ol>
                                        <h4>How to activate Live Debug Logging</h4>
                                        <ol>
                                            <li value="1">Open the DD Configuration Tool.</li>
                                            <li value="2">Go to the <b>Debugging</b> tab.</li>
                                            <li value="3">For DD Processing Logging, click the <b>Open</b> button next to the <b>Startup Level</b> box for <b>Router</b>, <b>Database</b>, or <b>DD Old</b>, depending on what you want to debug. A new window will open for each process, and to connect to Debugging stream click <b>Connect</b>.</li>
                                            <li value="4">To see detailed debugging, select <b>Detail L1 </b>and/or<b> Detail L2</b>.</li>
                                            <li value="5">To see if the process is locked and not doing anything, select <b>Tick</b>, which will show a lot of status messages on current process for 5 seconds, if the DD process is in middle of doing something or waiting for something.<p><img src="../../../Resources/Images/LS Data Director QuickGuides/Troubleshooting DD3/How to troubleshot Data Director_1_1_350x203.png" style="width: 350;height: 203;" /></p></li>
                                        </ol>
                                        <h4>How to check Job Queue status and frozen processing status</h4>
                                        <ol>
                                            <li value="1">Open the DD Configuration Tool.</li>
                                            <li value="2">Go to the <b>Debugging</b> tab.</li>
                                            <li value="3">Click on <b>Queue</b> button.</li>
                                            <li value="4">Queue status window will open that show status of all active queues. Open up the Queue and detailed information will be displayed.</li>
                                            <li value="5">Check Waiting status, if it is True, it means the queue is waiting for result status from job processing. If DD seem to be frozen and nothing is happening, press <b>Reset</b> button.</li>
                                            <li value="6">To see the first job in the queue, and the one that is causing error, press <b>Show 1st Pk</b> button and it will display the Guid and job id for the job. This can be used to look up information about the job in the log files to see what happen during the job processing and why DD stopped.</li>
                                            <li value="7">
                                                <p>
                                                    <img src="../../../Resources/Images/LS Data Director QuickGuides/Troubleshooting DD3/QueueDebug_700x480.png" style="width: 700;height: 480;" />
                                                </p>
                                            </li>
                                        </ol>
                                        <p>&#160;</p>
                                        <p data-mc-conditions="Default.NotPrint">&#160;</p>
                                    </div>
                                    <div id="footer" class="ls-nav-footer">
                                        <hr width="100%" size="0" align="center" />
                                        <p>© <span class="VariablesCurrentYear">2021</span> LS Retail ehf. All rights reserved.  </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div><a data-close="true"></a>
                </div>
            </div>
        </div>
    </body>
</html>