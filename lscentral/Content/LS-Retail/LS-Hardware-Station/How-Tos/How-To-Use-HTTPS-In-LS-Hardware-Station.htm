<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="_Skins_HTML5___Side_Navigation" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="../../../../" data-mc-has-content-body="True" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="Retail|LS Hardware Station|How to ...">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="msapplication-config" content="../../../../Skins/Favicons/browserconfig.xml" />
        <link rel="apple-touch-icon" sizes="180x180" href="../../../../Skins/Favicons/apple-touch-icon.png" />
        <link rel="shortcut icon" href="../../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="96x96" href="../../../../Skins/Favicons/favicon-96x96.png" />
        <link rel="icon" sizes="32x32" href="../../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="16x16" href="../../../../Skins/Favicons/favicon-16x16.png" /><title>How to: Use HTTPS in LS Hardware Station</title>
        <link rel="shortcut icon" href="/Content/Resources/Images/favicon.ico" />
        <link href="../../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" />
        <link href="../../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="../../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" />
        <link href="../../../../Skins/Fluid/Stylesheets/foundation.6.2.3.css" rel="stylesheet" />
        <link href="../../../../Skins/Fluid/Stylesheets/Styles.css" rel="stylesheet" />
        <link href="../../../../Skins/Fluid/Stylesheets/Tablet.css" rel="stylesheet" />
        <link href="../../../../Skins/Fluid/Stylesheets/Mobile.css" rel="stylesheet" />
        <link href="../../../Resources/Stylesheets/LSNav.css" rel="stylesheet" />
        <script src="../../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../../Resources/Scripts/require.min.js" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/require.config.js" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/foundation.6.2.3_custom.js" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/plugins.min.js" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapAll.js" defer="defer">
        </script>
        <script src="../../../Resources/Javascripts/Scroll-Button.js" defer="defer">
        </script>
    </head>
    <body>
        <div class="foundation-wrap off-canvas-wrapper">
            <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
                <aside class="off-canvas position-right" role="navigation" id="offCanvas" data-off-canvas="" data-position="right" data-mc-ignore="true">
                    <ul class="off-canvas-accordion vertical menu off-canvas-list" data-accordion-menu="" data-mc-back-link="Back" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True">
                    </ul>
                </aside>
                <div class="off-canvas-content inner-wrap" data-off-canvas-content="">
                    <div data-sticky-container="" class="title-bar-container">
                        <nav class="title-bar tab-bar sticky" data-sticky="" data-options="marginTop:0" style="width:100%" data-sticky-on="only screen and (max-width: 1279px)" data-mc-ignore="true"><a class="skip-to-content fluid-skip showOnFocus" href="#">Skip To Main Content</a>
                            <div class="middle title-bar-section outer-row clearfix">
                                <div class="menu-icon-container relative clearfix">
                                    <div class="central-dropdown" style="display:none;" id="#centralSmallScreen"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                        <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                            <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                        </div>
                                    </div>
                                    <button class="menu-icon" aria-label="Show Navigation Panel" data-toggle="offCanvas"><span></span>
                                    </button>
                                </div>
                            </div>
                            <div class="title-bar-layout outer-row">
                                <div class="logo-wrapper"><a class="logo" href="../../../home.html" title="LS Central Help" alt="Logo"></a>
                                </div>
                                <div class="navigation-wrapper nocontent">
                                    <ul class="navigation clearfix" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="3" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                        <li class="placeholder" style="visibility:hidden"><a>placeholder</a>
                                        </li>
                                    </ul>
                                    <div class="central-dropdown" style="display:none;" id="#centralTop"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                        <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                            <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                        </div>
                                    </div>
                                </div>
                                <div class="nav-search-wrapper">
                                    <div class="nav-search row">
                                        <form class="search" action="#">
                                            <div class="search-bar search-bar-container needs-pie">
                                                <input class="search-field needs-pie" type="search" aria-label="Search Field" placeholder="Search" />
                                                <div class="search-filter-wrapper"><span class="invisible-label" id="search-filters-label">Filter: </span>
                                                    <div class="search-filter" aria-haspopup="true" aria-controls="sf-content" aria-expanded="false" aria-label="Search Filter" title="All Files" role="button" tabindex="0">
                                                    </div>
                                                    <div class="search-filter-content" id="sf-content">
                                                        <ul>
                                                            <li>
                                                                <button class="mc-dropdown-item" aria-labelledby="search-filters-label filterSelectorLabel-00001"><span id="filterSelectorLabel-00001">All Files</span>
                                                                </button>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="search-submit-wrapper" dir="ltr">
                                                    <div class="search-submit" title="Search" role="button" tabindex="0"><span class="invisible-label">Submit Search</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                    <div class="central-dropdown" style="display:none;"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                        <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                            <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </nav>
                    </div>
                    <div class="main-section">
                        <div class="row outer-row sidenav-layout">
                            <nav class="sidenav-wrapper">
                                <div class="sidenav-container">
                                    <ul class="off-canvas-accordion vertical menu sidenav" data-accordion-menu="" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu accordion-menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="False" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True" data-mc-side-nav-menu="True">
                                    </ul>
                                </div>
                            </nav>
                            <div class="body-container">
                                <div data-mc-content-body="True">
                                    <MadCap:conditionalText data-mc-conditions="Default.GoogleAnalytics">
                                        <script>/* <![CDATA[ */
				(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
				(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
				m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
				})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
			
				ga('create', 'UA-58791693-4', 'auto');
			
				var file = document.location.href; 
				file = file.substring(0, (file.indexOf("#") == -1) ? file.length : file.indexOf("#"));
				file = file.substring(0, (file.indexOf("?") == -1) ? file.length : file.indexOf("?"));
				file = file.substring(file.lastIndexOf("/") + 1, file.length);
 
				if (file === 'Search.htm') 
				{
					var newPath = document.location.pathname + document.location.search + document.location.hash;
					newPath = newPath.replace(/#/, '?');
					newPath = newPath.replace(/search\-/, 'q=');
					ga('set', 'page', newPath);
				
					function locationHashChanged()
					{
						newPath = document.location.pathname + document.location.search + document.location.hash;
						newPath = newPath.replace(/#/, '?');
						newPath = newPath.replace(/search\-/, 'q=');
						ga('set', 'page', newPath);
						ga('send', 'pageview');
					}
				
					if(window.HashChangeEvent)
					{
						window.onhashchange = locationHashChanged;
					}
				}
				ga('send', 'pageview');
			/* ]]> */</script>
                                    </MadCap:conditionalText>
                                    <div class="nocontent">
                                        <div class="MCBreadcrumbsBox_0 breadcrumbs" role="navigation" aria-label="Breadcrumbs" data-mc-breadcrumbs-divider=" &gt; " data-mc-breadcrumbs-count="3" data-mc-toc="True"><span class="MCBreadcrumbsPrefix">You are here: </span>
                                        </div>
                                    </div>
                                    <p>&#160;</p>
                                    <div role="main" id="mc-main-content">
                                        <h1><a name="aanchor4408"></a>
                                            <MadCap:concept term="Retail" />How to: Use HTTPS in LS Hardware Station</h1>
                                        <p class="shortcut"><a href="#ToSet" class="MCXref xref">To set Hardware Station to use HTTPS</a>
                                        </p>
                                        <p class="shortcut"><a href="#Certificates" class="MCXref xref">Certificates</a>
                                        </p>
                                        <p class="shortcut"><a href="#AuthoritySigned" class="MCXref xref">To use an authority-signed certificate</a>
                                        </p>
                                        <p class="shortcut"><a href="#Bind" class="MCXref xref">To bind the certificate</a>
                                        </p>
                                        <p class="shortcut"><a href="#Host" class="MCXref xref">Host name</a>
                                        </p>
                                        <p class="shortcut"><a href="#ToUse" class="MCXref xref">To use a self-signed certificate</a>
                                        </p>
                                        <p class="shortcut"><a href="#Certificate" class="MCXref xref">Certificate Manager</a>
                                        </p>
                                        <p class="shortcut"><a href="#Browser" class="MCXref xref">Browser issues</a>
                                        </p>
                                        <p class="shortcut"><a href="#See" class="MCXref xref">See also</a>
                                        </p>
                                        <p style="font-style: normal;">LS&#160;Hardware Station can be set to use a secure connection via HTTPS. We highly recommend that you do so as the connection will be encrypted, protected from being intercepted by a third-party.</p>
                                        <h2><a name="ToSet"></a>To set Hardware Station to use HTTPS</h2>
                                        <ol>
                                            <li style="font-style: normal;" value="1">Navigate to the <b>LS Hardware Station Management Portal</b>. </li>
                                            <li style="font-style: normal;" value="2">In the <b>Server Config</b> section, select the <b>Https</b> check box, and click <b>Send</b>. </li>
                                            <li style="font-style: normal;" value="3">For the change to take effect, restart the LS&#160;Hardware Station service. </li>
                                        </ol>
                                        <p style="font-style: normal;"><b>Note:</b> When Hardware Station is hosted using HTTPS, the management portal will also use it. So to access the site, the address must now start with <b>https</b>. For example, instead of <u style="font-style: italic; font-weight: bold; text-decoration: none;">http</u><i>://localhost:8088</i>, use <u style="font-style: italic; text-decoration: none; font-weight: bold;">https</u><i>://localhost:8088</i>. Alternatively, navigate to <i>http://localhost:8090</i> and you will be redirected to the correct protocol.</p>
                                        <p style="font-style: normal;">
                                            <img src="../../../Resources/Images/LS Retail/POS/Hardware/Hardware Station/HTTPS in HWST_700x351.png" style="width: 700;height: 351;" class="images" />
                                        </p>
                                        <h2><a name="Certificates"></a>Certificates</h2>
                                        <p style="text-decoration: none;">Connecting to LS Hardware Station via HTTPS requires an SSL certificate. The certificate is either issued by an SSL Certificate Authority or it is self-signed. It can be tricky to make modern browsers accept a self-signed certificate, as they do not know to trust the issuer (yourself). It is therefore highly recommended to use an authority signed certificate whenever possible. </p>
                                        <p style="text-decoration: none;"><u style="font-weight: bold;">Important:&#160;Please consult documentation from Microsoft on working with SSL certificates. Below documentation describes general steps.</u>
                                        </p>
                                        <h2><a name="AuthoritySigned"></a>To use an authority-signed certificate</h2>
                                        <p style="font-style: normal;">There are a few ways to install an SSL certificate. Here the <b>IIS Manager</b> is used:</p>
                                        <ol>
                                            <li style="font-style: normal;" value="1">After launching the program, select <b>Server Certificates</b>. </li>
                                            <li style="font-style: normal;" value="2">Click the <b>Import…</b> link on the <b>Actions</b> panel to the right. </li>
                                            <li style="font-style: normal;" value="3">Browse to your certificate file; it will have a <i>.pfx</i> file extension. Certificate files are commonly password protected, but this is not a requirement. <b>Certificate store</b> should be set to <i>Personal</i>.</li>
                                            <li value="4">After installing the certificate, select the new certificate and click <b>View…</b> on the <b>Actions </b>panel. </li>
                                            <li value="5">In the <b>Details</b> tab of the window that opens up, locate the <b>Thumbprint</b> field and note down its value.</li>
                                        </ol>
                                        <p><b>Note:</b> Watch out if you are doing a copy-paste, because the value starts with an invisible character. To remove the invisible character, paste the value into Notepad, then move the cursor to the beginning of the thumbprint (by pressing the <b>Home</b> key), and press the <b>Delete </b>key on your keyboard once.</p>
                                        <h2><a name="Bind"></a>To bind the certificate</h2>
                                        <p>You must bind the newly installed certificate to the right IP address, port, and application. To do so, simply enter these two commands in a command prompt or a PowerShell terminal <b>with administrator privileges</b>:</p>
                                        <p><code>netsh http add sslcert ipport="0.0.0.0:8082" certhash=xxx appid="{12345678-db90-4b66-8b01-88f7af2e36bf}"</code>
                                        </p><code>netsh http add sslcert ipport="0.0.0.0:8088" certhash=xxx appid="{12345678-db90-4b66-8b01-88f7af2e36bf}"</code>
                                        <p>Replace <b>xxx</b> with the certificate‘s thumbprint <b>without spaces between the characters</b>. The <i>0.0.0.0</i> value of <i>ipport</i> binds the certificate to any incoming IP address. Change this to a specific IP address, if desired. </p>
                                        <p>The ports <i>8082</i> and<i> 8088</i> belong to LS Hardware Station and LS Hardware Station Management Portal, respectively. If either of these ports have been  changed at any point, then use the new values instead. </p>
                                        <p>The <i>appid</i> is the ID of the server that hosts the Hardware Station, so this value should not be changed.</p>
                                        <h2><a name="Host"></a>Host name</h2>
                                        <p>The certificate will always be issued to an address, sometimes with a wildcard (*) at the beginning. For example, the certificate may read: <i>“issued to *.website.com“</i>. The client using the Hardware Station must recognize the machine hosting it as being on that domain. </p>
                                        <p>If this is not already the case, add the IP address and domain name of the Hardware Station to the host files of any client using it. You can find host files in <i>C:\Windows\System32\drivers\...</i>.</p>
                                        <p>
                                            <h2><a name="ToUse"></a>To use a self-signed certificate</h2>
                                            <p>To create and bind a self-signed certificate to Hardware Station use the following script:</p>
                                            <p><code>$IP = (Test-Connection -ComputerName (hostname) -Count 1 | Select IPV4Address).IPV4Address.IPAddressToString <br />$NewCert = New-SelfSignedCertificate -DnsName $IP -FriendlyName "LS HardwareStation"</code>
                                            </p>
                                            <p><code>netsh http add sslcert ipport="${IP}:8082" certhash=($NewCert.Thumbprint) appid="{12345678-db90-4b66-8b01-88f7af2e36bf}" <br />netsh http add sslcert ipport="${IP}:8088" certhash=($NewCert.Thumbprint) appid="{12345678-db90-4b66-8b01-88f7af2e36bf}"</code>
                                            </p>
                                            <p>The same applies to this script as the script used for binding the authority issued certificate: IP addresses, ports, and so on can be changed, if needed. <br /><b>Note:</b> This script creates a certificate issued and bound to the IP address of the machine that ran it. This means that, unless changed, any client referencing it must use this exact IP address (no <i>localhost</i> or custom host names).</p>
                                            <p>
                                                <img src="../../../Resources/Images/LS Retail/POS/Hardware/Hardware Station/Chrome Cert_400x502.png" style="width: 400;height: 502;" />
                                            </p>
                                            <h2><a name="Certificate"></a>Certificate Manager</h2>
                                            <p>Since the server does not inherently trust a self-signed certificate, you must add it to the <b>Certificate Manager</b>: </p>
                                            <ol>
                                                <li value="1">Start by opening the<b> IIS Manager </b>to see the newly created certificate. </li>
                                                <li value="2">Follow the same basic steps that are described in the <a href="#AuthoritySigned" class="MCXref xref">To use an authority-signed certificate</a> section above, but ignore the import part. </li>
                                                <li value="3">On the <b>Details </b>tab in the <b>Certificate</b> window, instead of noting the thumbprint, click <b>Copy to File…</b>, and export the certificate to a file using the <b>Certificate Export Wizard</b>.</li>
                                                <li value="4">Open the Certificate Manager by pressing the <b>Windows </b>key and entering <i>“certmgr.msc”</i>. </li>
                                                <li value="5">Add the exported certificate to the <b>Personal</b> and <b>Trusted Root Certification Authorities</b> folders by right-clicking and selecting <b>All Tasks </b>and <b>Import…</b>.<p><img src="../../../Resources/Images/LS Retail/POS/Hardware/Hardware Station/CertMgr_400x233.png" style="width: 400;height: 233;" /></p></li>
                                            </ol>
                                            <h2><a name="Browser"></a>Browser issues</h2>
                                            <p>Modern browsers are not overly fond of self-signed certificates, even when classified as trusted. Google Chrome and Mozilla Firefox, for example, have their own ways of dealing with and importing self-signed certificates. Information about how to deal with this is easy to find on the internet. Therefore, browser-specific problems are not addressed in these instructions.</p>
                                            <p>
                                                <img src="../../../Resources/Images/LS Retail/POS/Hardware/Hardware Station/Chrome Invalid Cert_500x448.png" style="width: 500;height: 448;" />
                                            </p>
                                            <h2><a name="See"></a>See also</h2>
                                            <p><a href="../Installing-And-Configuring/Installing-And-Configuring-Home.htm" class="MCXref xref">Installing the LS Hardware Station</a>
                                            </p>
                                            <p><a href="../Installing-And-Configuring/LS-Hardware-Station-Troubleshooting.htm" class="MCXref xref">LS Hardware Station Troubleshooting</a>
                                            </p>
                                            <p><a href="How-Tos-Home.htm" class="MCXref xref">How to ...
in LS&#160;Hardware Station </a>
                                            </p>
                                            <p>&#160;</p>
                                            <p>&#160;</p>
                                        </p>
                                    </div>
                                    <div id="footer" class="ls-nav-footer">
                                        <hr width="100%" size="0" align="center" />
                                        <p>© <span class="VariablesCurrentYear">2021</span> LS Retail ehf. All rights reserved.  </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div><a data-close="true"></a>
                </div>
            </div>
        </div>
    </body>
</html>