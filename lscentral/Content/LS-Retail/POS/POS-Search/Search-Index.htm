<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="_Skins_HTML5___Side_Navigation" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="../../../../" data-mc-has-content-body="True" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="Retail|Point of Sale|Design|Data">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="msapplication-config" content="../../../../Skins/Favicons/browserconfig.xml" />
        <link rel="apple-touch-icon" sizes="180x180" href="../../../../Skins/Favicons/apple-touch-icon.png" />
        <link rel="shortcut icon" href="../../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="96x96" href="../../../../Skins/Favicons/favicon-96x96.png" />
        <link rel="icon" sizes="32x32" href="../../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="16x16" href="../../../../Skins/Favicons/favicon-16x16.png" /><title>Search Index</title>
        <link rel="shortcut icon" href="/Content/Resources/Images/favicon.ico" />
        <link href="../../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" />
        <link href="../../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="../../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" />
        <link href="../../../../Skins/Fluid/Stylesheets/foundation.6.2.3.css" rel="stylesheet" />
        <link href="../../../../Skins/Fluid/Stylesheets/Styles.css" rel="stylesheet" />
        <link href="../../../../Skins/Fluid/Stylesheets/Tablet.css" rel="stylesheet" />
        <link href="../../../../Skins/Fluid/Stylesheets/Mobile.css" rel="stylesheet" />
        <link href="../../../Resources/Stylesheets/LSNav.css" rel="stylesheet" />
        <link href="../../../Resources/Table Styles/To_SeeTable.css" rel="stylesheet" />
        <script src="../../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../../Resources/Scripts/require.min.js" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/require.config.js" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/foundation.6.2.3_custom.js" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/plugins.min.js" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapAll.js" defer="defer">
        </script>
        <script src="../../../Resources/Javascripts/Scroll-Button.js" defer="defer">
        </script>
    </head>
    <body>
        <div class="foundation-wrap off-canvas-wrapper">
            <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
                <aside class="off-canvas position-right" role="navigation" id="offCanvas" data-off-canvas="" data-position="right" data-mc-ignore="true">
                    <ul class="off-canvas-accordion vertical menu off-canvas-list" data-accordion-menu="" data-mc-back-link="Back" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True">
                    </ul>
                </aside>
                <div class="off-canvas-content inner-wrap" data-off-canvas-content="">
                    <div data-sticky-container="" class="title-bar-container">
                        <nav class="title-bar tab-bar sticky" data-sticky="" data-options="marginTop:0" style="width:100%" data-sticky-on="only screen and (max-width: 1279px)" data-mc-ignore="true"><a class="skip-to-content fluid-skip showOnFocus" href="#">Skip To Main Content</a>
                            <div class="middle title-bar-section outer-row clearfix">
                                <div class="menu-icon-container relative clearfix">
                                    <div class="central-dropdown" style="display:none;" id="#centralSmallScreen"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                        <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                            <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                        </div>
                                    </div>
                                    <button class="menu-icon" aria-label="Show Navigation Panel" data-toggle="offCanvas"><span></span>
                                    </button>
                                </div>
                            </div>
                            <div class="title-bar-layout outer-row">
                                <div class="logo-wrapper"><a class="logo" href="../../../home.html" title="LS Central Help" alt="Logo"></a>
                                </div>
                                <div class="navigation-wrapper nocontent">
                                    <ul class="navigation clearfix" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="3" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                        <li class="placeholder" style="visibility:hidden"><a>placeholder</a>
                                        </li>
                                    </ul>
                                    <div class="central-dropdown" style="display:none;" id="#centralTop"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                        <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                            <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                        </div>
                                    </div>
                                </div>
                                <div class="nav-search-wrapper">
                                    <div class="nav-search row">
                                        <form class="search" action="#">
                                            <div class="search-bar search-bar-container needs-pie">
                                                <input class="search-field needs-pie" type="search" aria-label="Search Field" placeholder="Search" />
                                                <div class="search-filter-wrapper"><span class="invisible-label" id="search-filters-label">Filter: </span>
                                                    <div class="search-filter" aria-haspopup="true" aria-controls="sf-content" aria-expanded="false" aria-label="Search Filter" title="All Files" role="button" tabindex="0">
                                                    </div>
                                                    <div class="search-filter-content" id="sf-content">
                                                        <ul>
                                                            <li>
                                                                <button class="mc-dropdown-item" aria-labelledby="search-filters-label filterSelectorLabel-00001"><span id="filterSelectorLabel-00001">All Files</span>
                                                                </button>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="search-submit-wrapper" dir="ltr">
                                                    <div class="search-submit" title="Search" role="button" tabindex="0"><span class="invisible-label">Submit Search</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                    <div class="central-dropdown" style="display:none;"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                        <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                            <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </nav>
                    </div>
                    <div class="main-section">
                        <div class="row outer-row sidenav-layout">
                            <nav class="sidenav-wrapper">
                                <div class="sidenav-container">
                                    <ul class="off-canvas-accordion vertical menu sidenav" data-accordion-menu="" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu accordion-menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="False" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True" data-mc-side-nav-menu="True">
                                    </ul>
                                </div>
                            </nav>
                            <div class="body-container">
                                <div data-mc-content-body="True">
                                    <MadCap:conditionalText data-mc-conditions="Default.GoogleAnalytics">
                                        <script>/* <![CDATA[ */
				(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
				(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
				m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
				})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
			
				ga('create', 'UA-58791693-4', 'auto');
			
				var file = document.location.href; 
				file = file.substring(0, (file.indexOf("#") == -1) ? file.length : file.indexOf("#"));
				file = file.substring(0, (file.indexOf("?") == -1) ? file.length : file.indexOf("?"));
				file = file.substring(file.lastIndexOf("/") + 1, file.length);
 
				if (file === 'Search.htm') 
				{
					var newPath = document.location.pathname + document.location.search + document.location.hash;
					newPath = newPath.replace(/#/, '?');
					newPath = newPath.replace(/search\-/, 'q=');
					ga('set', 'page', newPath);
				
					function locationHashChanged()
					{
						newPath = document.location.pathname + document.location.search + document.location.hash;
						newPath = newPath.replace(/#/, '?');
						newPath = newPath.replace(/search\-/, 'q=');
						ga('set', 'page', newPath);
						ga('send', 'pageview');
					}
				
					if(window.HashChangeEvent)
					{
						window.onhashchange = locationHashChanged;
					}
				}
				ga('send', 'pageview');
			/* ]]> */</script>
                                    </MadCap:conditionalText>
                                    <div class="nocontent">
                                        <div class="MCBreadcrumbsBox_0 breadcrumbs" role="navigation" aria-label="Breadcrumbs" data-mc-breadcrumbs-divider=" &gt; " data-mc-breadcrumbs-count="3" data-mc-toc="True"><span class="MCBreadcrumbsPrefix">You are here: </span>
                                        </div>
                                    </div>
                                    <p>&#160;</p>
                                    <div role="main" id="mc-main-content">
                                        <h1><a name="aanchor5580"></a>
                                            <MadCap:concept term="Retail" />Search Index</h1>
                                        <p>The search scope is defined on the <a href="dynamicsnav://///RunPage?Page=10000777">Search Index</a> page, where multiple tables and fields are added for search capabilities. Related data in nested tables can also be hooked to search entries for a  broader search scope.</p>
                                        <p class="shortcut"><a href="#How" class="MCXref xref">How to: Define a search index for a table</a>
                                        </p>
                                        <p class="shortcut"><a href="#Search" class="MCXref xref">Search table properties</a>
                                        </p>
                                        <p class="shortcut"><a href="#HowToAddFields" class="MCXref xref">How to: Add fields to a search index</a>
                                        </p>
                                        <p class="shortcut"><a href="#SearchField" class="MCXref xref">Search Field Properties</a>
                                        </p>
                                        <p class="shortcut"><a href="#HowToAddRelated" class="MCXref xref">How to: Add related data to a search (nested relationship)</a>
                                        </p>
                                        <p class="shortcut"><a href="#Indexing" class="MCXref xref">Indexing in more detail</a>
                                        </p>
                                        <p>
                                            <img src="../../../Resources/Images/LS Retail/POS/POS Search/P_10000777_ActionTab_600x643.png" style="width: 600;height: 643;" class="images" />
                                        </p>
                                        <p>Behind the POS Search is a search engine that needs to be fed with data that should be available for search. This process is called <i>indexing</i> and is handled in background processes in order to appear seamless to the user.</p>
                                        <p>The search engine resides on the same machine as the service tier and is created automatically. It is maintained through update actions that are created in the <b>Search Index Action</b> (10000769) table.</p>
                                        <p>POS&#160;Search uses <a href="http://lucenenet.apache.org/">Lucene.Net.</a></p>
                                        <h2><a name="How"></a>How to: Define a search index for a table</h2>
                                        <p>Open the <a href="dynamicsnav://///RunPage?Page=10000777">Search Index</a> page.</p>
                                        <ol>
                                            <li value="1">On the <b>Search Index Page</b>, click <b>Edit List</b>.</li>
                                            <li value="2">Select a new line on the <b>Search Tables</b> FastTab.</li>
                                            <li value="3">Give the entry an <b>ID</b>, <b>Title</b>, and select the <b>Table No.</b> of the table to be searchable.</li>
                                            <li value="4">Set the <b>Title Format</b>, which is the format of the search result that appears to the user. The format string should contain one or more <b>Field Aliases</b> in curly braces. For example,<br /><blockquote><f>{item} @ {price}</f></blockquote><p>results in </p><blockquote>Milk 1 Liter @ 1,144</blockquote></li>
                                        </ol>
                                        <p>Optionally, you can select to <b><a name="aanchor5581"></a><MadCap:concept term="Retail" />Use Retail Image</b> to associate a linked Retail Image to the search result entry, for example, when used with the Item table, the item image would accompany the result entry.</p>
                                        <p>Select a <b>Type Image URI</b> to set an image to represent search results generated from the specified table. The URIs supported are <i>lsmedia://</i>, <i>http://</i> and <i>file://</i>.</p>
                                        <h2><a name="Search"></a>Search table properties</h2>
                                        <table style="width: 100%;mc-table-style: url('../../../Resources/Table Styles/To_SeeTable.css');" class="TableStyle-To_SeeTable" cellspacing="1">
                                            <col style="width: 25%;" class="TableStyle-To_SeeTable-Column-Column1" />
                                            <col class="TableStyle-To_SeeTable-Column-Column1" />
                                            <tbody>
                                                <tr>
                                                    <th class="TableStyle-To_SeeTable-BodyH-Column1-">Property</th>
                                                    <th class="TableStyle-To_SeeTable-BodyG-Column1-">Description</th>
                                                </tr>
                                                <tr>
                                                    <td class="TableStyle-To_SeeTable-BodyH-Column1-">Code</td>
                                                    <td class="TableStyle-To_SeeTable-BodyG-Column1-">Sets a unique identifier for the search.</td>
                                                </tr>
                                                <tr>
                                                    <td class="TableStyle-To_SeeTable-BodyH-Column1-">Name</td>
                                                    <td class="TableStyle-To_SeeTable-BodyG-Column1-">Defines the search name, which is used as the caption.</td>
                                                </tr>
                                                <tr>
                                                    <td class="TableStyle-To_SeeTable-BodyH-Column1-">Description</td>
                                                    <td class="TableStyle-To_SeeTable-BodyG-Column1-">Include an optional description of the search. This description is for internal purposes only and is not visible to the end user. A short description of the search’s purpose makes it easier to maintain the application.</td>
                                                </tr>
                                                <tr>
                                                    <td class="TableStyle-To_SeeTable-BodyH-Column1-">Table No.</td>
                                                    <td class="TableStyle-To_SeeTable-BodyG-Column1-">Unique identifier for the table associated with the search.</td>
                                                </tr>
                                                <tr>
                                                    <td class="TableStyle-To_SeeTable-BodyH-Column1-">Title Format</td>
                                                    <td class="TableStyle-To_SeeTable-BodyG-Column1-">Title's format that appears on the search results. </td>
                                                </tr>
                                                <tr>
                                                    <td class="TableStyle-To_SeeTable-BodyH-Column1-">Description Format</td>
                                                    <td class="TableStyle-To_SeeTable-BodyG-Column1-">Description's format that appear on the search results.</td>
                                                </tr>
                                                <tr>
                                                    <td class="TableStyle-To_SeeTable-BodyH-Column1-">Use Retail Image</td>
                                                    <td class="TableStyle-To_SeeTable-BodyG-Column1-">Associate the first linked Retail Image to entry.</td>
                                                </tr>
                                                <tr>
                                                    <td class="TableStyle-To_SeeTable-BodyH-Column1-">Boost</td>
                                                    <td class="TableStyle-To_SeeTable-BodyG-Column1-">Sets the boost or gives this search <i>more importance</i> or <i>less importance</i> (default value is 1).</td>
                                                </tr>
                                                <tr>
                                                    <td class="TableStyle-To_SeeTable-BodyB-Column1-">Type Image URI</td>
                                                    <td class="TableStyle-To_SeeTable-BodyA-Column1-">Set an image for this search that appears for every search result of this type.</td>
                                                </tr>
                                            </tbody>
                                        </table>
                                        <h2><a name="HowToAddFields"></a>How to: Add fields to a search index</h2>
                                        <p>Adding a field to the search will make the field searchable, meaning the field values will be fed to the search engine.</p>
                                        <p>On the <a href="dynamicsnav://///RunPage?Page=10000777">POS Search</a> page:</p>
                                        <ol>
                                            <li value="1">Select a <b>Search Index Table</b> entry to add fields to.</li>
                                            <li value="2">Select a new line on the <b>Search Index Fields</b> FastTab.</li>
                                            <li value="3">Select a <b>Field No.</b> of the field to be searchable.</li>
                                        </ol>
                                        <p>The field specified can be of any <span class="GeneralBC_Mini">Business Central</span> type, most types are handled as Text or as the FORMAT() equivalent. With the exception for number types, which are stored as numbers, allowing range queries (as described in <b>Search Syntax</b>) and Date/DateTime/Time which is always stored as a string in the standard XML format.</p>
                                        <p>Giving a field an <b>Alias</b> has two functions:</p>
                                        <ul>
                                            <li value="1">To create a <b>Title Format</b> for a Search Entry.<ul style="list-style-type: circle;"><li value="1">For example, if one field is given the alias <i>item</i> and another field is given the alias <i>price</i>, then the search result <b>Title Format</b> can be defined as</li></ul></li><pre xml:space="preserve">{item} costs {price}</pre>
                                            <p>and then every search result will have the title formatted accordingly. Where the value of the item field will replace {item} and the value of the price field will replace {price}.</p>
                                            <li value="2">Filtering; allowing to filter the results based on a field.<ul style="list-style-type: circle;"><li value="1">For example, allowing the user to enter a search query such as: </li></ul><pre xml:space="preserve">item:milk price:{1 TO 100}<br /></pre></li>
                                        </ul>
                                        <p>The same alias can be defined for multiple fields, which will add the content together but not overwriting it. Avoid using the same alias for multiple fields with different data types, which might give undesired results.</p>
                                        <h2><a name="SearchField"></a>Search Field Properties</h2>
                                        <table style="width: 100%;mc-table-style: url('../../../Resources/Table Styles/To_SeeTable.css');" class="TableStyle-To_SeeTable" cellspacing="1">
                                            <col style="width: 25%;" class="TableStyle-To_SeeTable-Column-Column1" />
                                            <col class="TableStyle-To_SeeTable-Column-Column1" />
                                            <tbody>
                                                <tr>
                                                    <th class="TableStyle-To_SeeTable-BodyH-Column1-">Property</th>
                                                    <th class="TableStyle-To_SeeTable-BodyG-Column1-">Description</th>
                                                </tr>
                                                <tr>
                                                    <td class="TableStyle-To_SeeTable-BodyH-Column1-">Line No.</td>
                                                    <td class="TableStyle-To_SeeTable-BodyG-Column1-">Defines the line number.</td>
                                                </tr>
                                                <tr>
                                                    <td class="TableStyle-To_SeeTable-BodyH-Column1-">Alias</td>
                                                    <td class="TableStyle-To_SeeTable-BodyG-Column1-">Defines the field alias or name.</td>
                                                </tr>
                                                <tr>
                                                    <td class="TableStyle-To_SeeTable-BodyH-Column1-">Field No.</td>
                                                    <td class="TableStyle-To_SeeTable-BodyG-Column1-">Associates the field with selected search and makes it searchable.</td>
                                                </tr>
                                                <tr>
                                                    <td class="TableStyle-To_SeeTable-BodyH-Column1-">Searchable</td>
                                                    <td class="TableStyle-To_SeeTable-BodyG-Column1-">Determines if the field should be searchable. Should be used with <b>Title Format</b> on the search.</td>
                                                </tr>
                                                <tr>
                                                    <td class="TableStyle-To_SeeTable-BodyH-Column1-">Is Image URI</td>
                                                    <td class="TableStyle-To_SeeTable-BodyG-Column1-">Use the value of the field as an image representing the search document. This must be a valid and supported URI (http://, lsmedia://, file://).</td>
                                                </tr>
                                                <tr>
                                                    <td class="TableStyle-To_SeeTable-BodyH-Column1-">Alias Field No.</td>
                                                    <td class="TableStyle-To_SeeTable-BodyG-Column1-">Use the value in <b>Alias Field No.</b> as an alias for this field.</td>
                                                </tr>
                                                <tr>
                                                    <td class="TableStyle-To_SeeTable-BodyH-Column1-">Pre-Processing Codeunit</td>
                                                    <td class="TableStyle-To_SeeTable-BodyG-Column1-">Process this field’s value with a codeunit.</td>
                                                </tr>
                                                <tr>
                                                    <td class="TableStyle-To_SeeTable-BodyH-Column1-">Formatting</td>
                                                    <td class="TableStyle-To_SeeTable-BodyG-Column1-">Formats the field’s value according to selected option.</td>
                                                </tr>
                                                <tr>
                                                    <td class="TableStyle-To_SeeTable-BodyH-Column1-">Std. Formatting Text</td>
                                                    <td class="TableStyle-To_SeeTable-BodyG-Column1-">Format text passed to FORMAT() 					</td>
                                                </tr>
                                                <tr>
                                                    <td class="TableStyle-To_SeeTable-BodyB-Column1-">Boost</td>
                                                    <td class="TableStyle-To_SeeTable-BodyA-Column1-">Sets the boost or gives this field <i>more importance</i> or <i>less importance</i> (default value is 1). </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                        <h2><a name="HowToAddRelated"></a>How to: Add related data to a search (nested relationship)</h2>
                                        <p>To search in tables related to the main search table, you create a <b>Nested Relationship</b>:</p>
                                        <ol>
                                            <li value="1">Open the <a href="dynamicsnav://///RunPage?Page=10000777">Search Index</a> page.</li>
                                            <li value="2">Select a search index table entry to modify.</li>
                                            <li value="3">Click <b>Actions</b> - <b>Nested Relationships</b>. A&#160;new <b>Search Index</b> page opens with only entries related to the selected/parent search index table.</li>
                                            <li value="4">Select a new line on the <b>Search Index Tables</b> FastTab, and select the related table (<b>Table No.</b>).</li>
                                            <li value="5">In the <b>Parent Filter Key</b> field, list all key field numbers (separated with a comma (,) on the parent table, that connect to the nested table.</li>
                                            <li value="6">In the <b>Filter Key</b> field, list all the key fields on the nested table that connects the parent table. The number of fields in <b>Parent Filter Key</b> and <b>Filter Keys</b> must be equal and must match, respectively.<ul style="list-style-type: circle;"><li value="1">For example, to search for a barcode and get the related item as a result, define the Item (27) table as a parent search table, then the Barcodes (99001451) table as a nested relationship then set:<br /><pre>Parent Filter Key: 1 (Field 1 "No." in the Item table)</pre><pre>Filter Key:&#160;1 (Field 1 "Item No." in the Barcodes table)</pre></li></ul></li>
                                            <p>
                                                <img src="../../../Resources/Images/LS Retail/POS/POS Search/P_10000777_NestedRelationships_IndexTablesAndFields_800x352.png" class="images" style="width: 800;height: 352;" />
                                            </p>
                                            <li value="7">Define fields for the nested table in the <b>Search Fields</b> FastTab as described previously in <a href="#HowToAddFields">How to: Add fields to a search index</a>.</li>
                                        </ol>
                                        <p><b>Note:</b> Nested relationships can be defined recursively.  </p>
                                        <h2><a name="Indexing"></a>Indexing in more detail</h2>
                                        <p>The <b>Search Index</b> can be set up in two ways, with one global search engine (located in the head office, for example) that serves all POSs, or with one search engine for each service tier (distributed search engines).</p>
                                        <p>The indexing process is cumulative, initially every table defined as searchable must be scanned and fed to the search engine. Afterwards, when an entry in any of the search tables is changed it is updated simultaneously in the index, but only for the search engine connected to the current service tier. Other search engines must be updated with the help of the <b>POS Search Action</b> table, described below. </p>
                                        <ul>
                                            <li value="1"><b>Initial Index:</b>
                                                <ul style="list-style-type: circle;">
                                                    <li value="1"> Initially a process loops through every data entry in every table that is defined on the POS&#160;Search page, and feeds its data into the search engine. </li>
                                                </ul>
                                            </li>
                                            <li value="2"><b>Data Entries Updated:</b>
                                                <ul style="list-style-type: circle;">
                                                    <li value="1">When a table entry is added, changed, or deleted the index is updated automatically for tables that are managed by the <b>Action Management</b> codeunit (for replication). Tables managed by the <b>Action Management</b> do have a function called CreateAction(Type: Integer) in their update triggers (OnInsert, OnModify, OnDelete and OnRename).</li>
                                                    <li value="2">To automatically update the index in other tables, you must add the following code to the OnInsert, OnModify, OnDelete, and OnRename triggers: <pre><code>OnInsert()
UpdateIndex(0);

OnModify()
UpdateIndex(1);

OnDelete()
UpdateIndex(2);

OnRename()
UpdateIndex(3);

LOCAL UpdateIndex(Type : Integer)
//Type: 0 = INSERT, 1 = MODIFY, 2 = DELETE, 3 = RENAME
RecRef.GETTABLE(Rec);
xRecRef.GETTABLE(xRec);
POSSearch.UpdateIndex(RecRef, xRecRef, Type);</code></pre></li>
                                                    <li value="3">An update action is created in the table POS Search Action (10000769) for every entry changed.</li>
                                                </ul>
                                            </li>
                                            <li value="3"><b>Search Definition Changed:</b>
                                                <ul style="list-style-type: circle;">
                                                    <li value="1">The index is updated if a search definition is added, changed or deleted.</li>
                                                    <li value="2">An update action is created in the table POS&#160;Search Action (10000769) for the change.</li>
                                                </ul>
                                            </li>
                                        </ul>
                                        <p>Update actions are created for every change made in the database, if that change involves a searchable table. These actions are created to keep distributed search engines up-to-date. A background process is run every time a POS is started which checks for any updates in the <b>POS Search Action</b> table and updates the index accordingly.</p>
                                        <ul>
                                            <li value="1"><b>Data Updated on a Different Service Tier with the Same Database:</b>
                                                <ul style="list-style-type: circle;">
                                                    <li value="1">Each service tier checks for updates in the <b>POS&#160;Search Action</b> (10000769) when a POS&#160;is started.</li>
                                                </ul>
                                            </li>
                                            <li value="2"><b>Data Replicated from  a Different Database :</b>
                                                <ul style="list-style-type: circle;">
                                                    <li value="1">When the data is maintained on a database in HO and is replicated down to the POS’s, one must also replicate the <b>POS Search Action</b> table, in order to keep the search index up-to-date on the POSs.</li>
                                                </ul>
                                            </li>
                                        </ul>
                                        <p>&#160;</p>
                                        <p>&#160;</p>
                                    </div>
                                    <div id="footer" class="ls-nav-footer">
                                        <hr width="100%" size="0" align="center" />
                                        <p>© <span class="VariablesCurrentYear">2021</span> LS Retail ehf. All rights reserved.  </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div><a data-close="true"></a>
                </div>
            </div>
        </div>
    </body>
</html>