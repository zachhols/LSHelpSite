<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="_Skins_HTML5___Side_Navigation" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="../../../" data-mc-has-content-body="True" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="msapplication-config" content="../../../Skins/Favicons/browserconfig.xml" />
        <link rel="apple-touch-icon" sizes="180x180" href="../../../Skins/Favicons/apple-touch-icon.png" />
        <link rel="shortcut icon" href="../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="96x96" href="../../../Skins/Favicons/favicon-96x96.png" />
        <link rel="icon" sizes="32x32" href="../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="16x16" href="../../../Skins/Favicons/favicon-16x16.png" /><title>LS&#160;Central 17.0 Release Notes</title>
        <link rel="shortcut icon" href="/Content/Resources/Images/favicon.ico" />
        <link href="../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" />
        <link href="../../../Skins/Fluid/Stylesheets/foundation.6.2.3.css" rel="stylesheet" />
        <link href="../../../Skins/Fluid/Stylesheets/Styles.css" rel="stylesheet" />
        <link href="../../../Skins/Fluid/Stylesheets/Tablet.css" rel="stylesheet" />
        <link href="../../../Skins/Fluid/Stylesheets/Mobile.css" rel="stylesheet" />
        <link href="../../Resources/Stylesheets/LSNav.css" rel="stylesheet" />
        <link href="../../Resources/Table Styles/NoBorders.css" rel="stylesheet" />
        <script src="../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.min.js" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/require.config.js" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/foundation.6.2.3_custom.js" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js" defer="defer">
        </script>
        <script src="../../Resources/Javascripts/Scroll-Button.js" defer="defer">
        </script>
    </head>
    <body>
        <div class="foundation-wrap off-canvas-wrapper">
            <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
                <aside class="off-canvas position-right" role="navigation" id="offCanvas" data-off-canvas="" data-position="right" data-mc-ignore="true">
                    <ul class="off-canvas-accordion vertical menu off-canvas-list" data-accordion-menu="" data-mc-back-link="Back" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True">
                    </ul>
                </aside>
                <div class="off-canvas-content inner-wrap" data-off-canvas-content="">
                    <div data-sticky-container="" class="title-bar-container">
                        <nav class="title-bar tab-bar sticky" data-sticky="" data-options="marginTop:0" style="width:100%" data-sticky-on="only screen and (max-width: 1279px)" data-mc-ignore="true"><a class="skip-to-content fluid-skip showOnFocus" href="#">Skip To Main Content</a>
                            <div class="middle title-bar-section outer-row clearfix">
                                <div class="menu-icon-container relative clearfix">
                                    <div class="central-dropdown" style="display:none;" id="#centralSmallScreen"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                        <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                            <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                        </div>
                                    </div>
                                    <button class="menu-icon" aria-label="Show Navigation Panel" data-toggle="offCanvas"><span></span>
                                    </button>
                                </div>
                            </div>
                            <div class="title-bar-layout outer-row">
                                <div class="logo-wrapper"><a class="logo" href="../../home.html" title="LS Central Help" alt="Logo"></a>
                                </div>
                                <div class="navigation-wrapper nocontent">
                                    <ul class="navigation clearfix" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="3" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                        <li class="placeholder" style="visibility:hidden"><a>placeholder</a>
                                        </li>
                                    </ul>
                                    <div class="central-dropdown" style="display:none;" id="#centralTop"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                        <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                            <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                        </div>
                                    </div>
                                </div>
                                <div class="nav-search-wrapper">
                                    <div class="nav-search row">
                                        <form class="search" action="#">
                                            <div class="search-bar search-bar-container needs-pie">
                                                <input class="search-field needs-pie" type="search" aria-label="Search Field" placeholder="Search" />
                                                <div class="search-filter-wrapper"><span class="invisible-label" id="search-filters-label">Filter: </span>
                                                    <div class="search-filter" aria-haspopup="true" aria-controls="sf-content" aria-expanded="false" aria-label="Search Filter" title="All Files" role="button" tabindex="0">
                                                    </div>
                                                    <div class="search-filter-content" id="sf-content">
                                                        <ul>
                                                            <li>
                                                                <button class="mc-dropdown-item" aria-labelledby="search-filters-label filterSelectorLabel-00001"><span id="filterSelectorLabel-00001">All Files</span>
                                                                </button>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="search-submit-wrapper" dir="ltr">
                                                    <div class="search-submit" title="Search" role="button" tabindex="0"><span class="invisible-label">Submit Search</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                    <div class="central-dropdown" style="display:none;"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                        <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                            <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </nav>
                    </div>
                    <div class="main-section">
                        <div class="row outer-row sidenav-layout">
                            <nav class="sidenav-wrapper">
                                <div class="sidenav-container">
                                    <ul class="off-canvas-accordion vertical menu sidenav" data-accordion-menu="" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu accordion-menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="False" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True" data-mc-side-nav-menu="True">
                                    </ul>
                                </div>
                            </nav>
                            <div class="body-container">
                                <div data-mc-content-body="True">
                                    <MadCap:conditionalText data-mc-conditions="Default.GoogleAnalytics">
                                        <script>/* <![CDATA[ */
				(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
				(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
				m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
				})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
			
				ga('create', 'UA-58791693-4', 'auto');
			
				var file = document.location.href; 
				file = file.substring(0, (file.indexOf("#") == -1) ? file.length : file.indexOf("#"));
				file = file.substring(0, (file.indexOf("?") == -1) ? file.length : file.indexOf("?"));
				file = file.substring(file.lastIndexOf("/") + 1, file.length);
 
				if (file === 'Search.htm') 
				{
					var newPath = document.location.pathname + document.location.search + document.location.hash;
					newPath = newPath.replace(/#/, '?');
					newPath = newPath.replace(/search\-/, 'q=');
					ga('set', 'page', newPath);
				
					function locationHashChanged()
					{
						newPath = document.location.pathname + document.location.search + document.location.hash;
						newPath = newPath.replace(/#/, '?');
						newPath = newPath.replace(/search\-/, 'q=');
						ga('set', 'page', newPath);
						ga('send', 'pageview');
					}
				
					if(window.HashChangeEvent)
					{
						window.onhashchange = locationHashChanged;
					}
				}
				ga('send', 'pageview');
			/* ]]> */</script>
                                    </MadCap:conditionalText>
                                    <p>&#160;</p>
                                    <div role="main" id="mc-main-content">
                                        <h1 data-mc-conditions="Default.TopNavOnly"><a name="aanchor4431"></a>
                                            <MadCap:concept term="Release Notes" /><span class="GeneralLSCentral_Mini">LS&#160;Central</span> 17.0 Release Notes</h1>
                                        <h2>About This Release</h2>
                                        <p style="font-weight: bold;"><b id="releaseDate">Released - November 26, 2020</b><![CDATA[  ]]></p>
                                        <p>This version is built on <span class="GeneralBC_Maxi">Microsoft Dynamics 365 Business Central</span> 2020 release wave 2, build 17.0.16993.0. </p>
                                        <h3 class="RelNotes">Discontinuation of LS Nav</h3>
                                        <p class="RelNotes">LS Retail policy for <span class="GeneralLSCentral_Mini">LS&#160;Central</span> is that new features and fixes go into the next new release, not previous releases.  When <span class="GeneralLSCentral_Mini">LS&#160;Central</span> 15.0, the first AL version, was released, it was decided to make an exception to this by continuing to release fixes and new events in LS Nav 14.x for a limited time. Now the time has come to end this exception. The last version of LS Nav 14, version 14.04,  will be released in December 2020.</p>
                                        <p>All open support tickets related to versions prior to <span class="GeneralLSCentral_Mini">LS&#160;Central</span> 15.0, that is all tickets related to LS Nav, will be closed.  Partners can submit new tickets for LS Central if the issue still applies there.</p>
                                        <h3 class="RelNotes-2"><span class="GeneralLSCentral_Mini">LS&#160;Central</span> 17.0</h3>
                                        <p class="RelNotes"><span class="GeneralLSCentral_Mini">LS&#160;Central</span> 17.0 is delivered as an extension with dependency on the <span class="GeneralBC_Mini">Business Central</span> Base App. This means that <span class="GeneralLSCentral_Mini">LS&#160;Central</span> does not make any changes to the <span class="GeneralBC_Mini">Business Central</span> Base Application. The release package includes both the runtime app and the source code.</p>
                                        <h4 class="RelNotes"><span class="GeneralLSCentral_Mini">LS&#160;Central</span> AL code</h4>
                                        <p class="RelNotes">The source code is delivered in AL files that can be modified by partners. It is, however, highly recommended to make all modifications in extensions, and if you need to alter the <span class="GeneralLSCentral_Mini">LS&#160;Central</span> or <span class="GeneralBC_Mini">Business Central</span> behavior then do that by subscribing to events.</p>
                                        <p>It is LS Retail's priority to make it easy for the partners to extend <span class="GeneralLSCentral_Mini">LS&#160;Central</span>. Therefore, there is a special section in our Support Portal where partners can submit requests for new events. These requests are given priority.</p>
                                        <p><a class="MCPopupThumbnailLink MCPopupThumbnailPopup" href="../../Resources/Images/Release Notes/RelNotes15_0.png"><img class="MCPopupThumbnail img" data-mc-width="624" data-mc-height="299" src="../../Resources/Images/Release Notes/RelNotes15_0_thumb_0_60.png" style="height: auto;width: 300px;mc-thumbnail-max-height: 60px;mc-thumbnail: popup;" tabindex="" /></a>
                                        </p>
                                        <h4 class="RelNotes"><span class="GeneralLSCentral_Mini">LS&#160;Central</span> extension</h4>
                                        <p class="RelNotes">The release package includes <span class="GeneralLSCentral_Mini">LS&#160;Central</span> as a runtime app that can be installed as an extension. To install the extension, you first need to publish it, see <a href="https://docs.microsoft.com/en-us/dynamics365/business-central/dev-itpro/developer/devenv-how-publish-and-install-an-extension-v2">Publishing and Installing an Extension v2.0</a>. Once the extension has been published, the <span class="GeneralLSCentral_Mini">LS&#160;Central</span> extension can be installed using the <b>Extension Management</b> page in <span class="GeneralBC_Mini">Business Central</span>.</p>
                                        <p>The following is a list of changes and key features in <span class="GeneralLSCentral_Mini">LS&#160;Central</span> 17.0.</p>
                                        <h2 class="RelNotesSection">New or Enhanced Features</h2>
                                        <h2 class="RelNotesProdGroup">Retail</h2>
                                        <h3 class="RelNotes-2">New Option to Send Transactions from the POS Using Web Replication</h3>
                                        <p class="RelNotes"><span class="GeneralLSCentral_Mini">LS&#160;Central</span> has a web replication way to send transactions from the POS using Web Request SendTransaction version 2.<br />In <span class="GeneralLSCentral_Mini">LS&#160;Central</span> 17.0 a new option has been added using Web Requests directly.</p>
                                        <p>This new option is:</p>
                                        <ul>
                                            <li value="1">More general, no definition is needed for the fields since by default all fields are included.</li>
                                            <li value="2">Easier to extend.</li>
                                            <li value="3">Not as fast as the other option.</li>
                                        </ul>
                                        <p>Additionally, this new option provides an event that makes it easy to add tables to the process queue. All fields for the additional tables are included by default as well.</p>
                                        <p>To activate this option, change the following on the <b>POS Functionality Profile Card</b>, the <b>Web Service Settings</b> FastTab:</p>
                                        <ul>
                                            <li value="1">
                                                <p>Enable the <b>Use Background Session</b> option. Enabling is mandatory in order to use this type of Web Replication method.</p>
                                            </li>
                                            <li value="2">
                                                <p>Enable the <b>Use Web Replication</b> option. </p>
                                            </li>
                                        </ul>
                                        <h4>Other setup</h4>
                                        <p>The new <b>Use Web Replication</b> flag replaces the normal <b>SendTransaction</b> web request, and depends on the same fundamental setup, such as whether this service is active, where to connect to, and so on.</p>
                                        <p><b>Note:</b> This new option depends on the newly introduced <b>Web Replication</b> module, which is composed of four web requests: REPL_START_PACKET, WEB_REPL_ADD_TABLE, WEB_REPL_EXE_PACKET, and WEB_REPL_END_PACKET.</p>
                                        <h4 class="RelNotes">How to extend this web replication method</h4>
                                        <p>Subscribe to event <i>OnAfterLoadTransactionTables </i>in codeunit  99009519 Web Request Data Mgt, and add new table data. Here an example of such code (here based on the <span class="GeneralLSCentral_Mini">LS&#160;Central</span> <i>Trans. Sales Entry </i>table):</p>
                                        <blockquote data-mc-conditions="Default.TopNavOnly">
                                            <p>//Trans. Sales Entry</p>
                                            <p>TransSalesEntry.SETRANGE("Store No.", TransactionHeaderTemp."Store No.");</p>
                                            <p>TransSalesEntry.SETRANGE("POS Terminal No.", TransactionHeaderTemp."POS Terminal No.");</p>
                                            <p>TransSalesEntry.SETRANGE("Transaction No.", TransactionHeaderTemp."Transaction No.");</p>
                                            <p>RecRef.GETTABLE(TransSalesEntry);</p>
                                            <p>WebRequestFunctions.LoadTableData(RecRef, BufferUtility);</p>
                                        </blockquote>
                                        <h4 class="RelNotes">Web Replication Clean Up</h4>
                                        <p class="RelNotes">The new <b>SendTransaction </b>option will affect how data is loaded. </p>
                                        <p>Until now, extending the data load has been defined through the published event <i>OnAfterLoadTransactionTables</i> in codeunit <b>SendTransactionUtils</b> (10033046). After this change, this will be through the published event <i>OnAfterLoadTransactionTables</i> (same name) but in codeunit <b>Web Request Data Mgt.</b> (99009519).</p>
                                        <p>This will only affect those who have already extended the <b>SendTransaction</b> request by using this event. The change is necessary to eliminate duplicate code to handle this load.</p>
                                        <h2 class="RelNotes">BackOffice</h2>
                                        <h3 class="RelNotes-2">Basket Calculation for Customers </h3>
                                        <p class="RelNotes">eCommerce now supports customer-based price calculation.</p>
                                        <p>When calculating a basket that provides a member card number and the card is linked to a member account where the account is linked to a customer, the web store customer number is substituted with the linked customer number. Therefore, the basket calculation will be based on the linked customer, and not the web store customer.</p>
                                        <h3 class="RelNotes">Fields Removed or Renamed </h3>
                                        <p class="RelNotes">The field <b>Mobile Phone No.</b> was added to the <b>Customer</b> table in BC Base app version 17.  There was a field with the same name in the <span class="GeneralLSCentral_Mini">LS&#160;Central</span> <b>Customer Extension</b> table. This field has been renamed to <b>LSC Mobile Phone No.</b> and obsoleted. Data is copied from the extension table to the BC Base table.</p>
                                        <p>The field <b>Statement No.</b> in table extension for <b>Gen. Journal Line</b> has been renamed <b>LSC Statement No.</b>, since Microsoft added the <b>Statement No.</b> field to its standard table.</p>
                                        <h3 class="RelNotes">New eCommerce Return Policy Web Service</h3>
                                        <p class="RelNotes">A new web service has been created to return a "Return Policy" per Store, Item Category, Product Group, Item, or Item Variant.</p>
                                        <h2 class="RelNotes"><span class="GeneralLSCentral_Mini">LS&#160;Central</span> POS</h2>
                                        <h3 class="RelNotes-2">Enhancements in POS Hardware Profile </h3>
                                        <h4 class="RelNotes-2">Detect Hardware</h4>
                                        <p class="RelNotes">The Detect Hardware functionality has been changed to never overwrite existing devices. Now if a device was previously added to the Hardware Profile using the <b>Detect Hardware</b> action, the device is left untouched by the user running the <b>Detect Hardware </b>action again. This means that if any properties were changed after the device was created, they will remain as they are. </p>
                                        <p>If a device was manually created and added manually to the Hardware Station (not created automatically by the <b>Detect Hardware</b> action), the device will not be updated or removed by the <b>Detect Hardware</b> action at all.</p>
                                        <h4 class="RelNotes">Update Hardware Station Host</h4>
                                        <p class="RelNotes">A new action, <b>Update Hardware Station Host, </b>has been added to the Hardware Profile where the user can update all devices on the Hardware Profile to have the same Hardware Station Host as is currently on the Hardware Profile.</p>
                                        <h3 class="RelNotes">PreAuth Functions and Payment Token Support Implemented in EFT</h3>
                                        <p class="RelNotes">EFT functionality has been updated to create and handle Pre-Authorizations on the POS.<br />PreAuths will show on the POS Journal and can be voided/cancelled, updated, or finalized on the POS with the <a href="#POS">new POS commands</a> supplied, PREAUTH, PREAUTH-FINALIZE, and PREAUTH-UPDATE.</p>
                                        <p>With PREAUTH-FINALIZE, a Pre-Auth is converted to a payment. The amount can only be lowered and will be lowered by the POS if the transaction balance is lower than the Pre-Auth amount.</p>
                                        <p>The EFT functionality now supports payment tokens. When a token is returned in an EFT transaction, it is stored in <span class="GeneralLSCentral_Mini">LS&#160;Central</span>. If a payment token is available, it is sent with EFT commands and can be used by the PSP that is connected to LS Pay. This functionality is subject to the functional availability of the PSP used.</p>
                                        <h3 class="RelNotes">Removal of POS DLLs: LSContextModel and LSDataSet</h3>
                                        <p class="RelNotes">All usage of the LSContextModel/LSContextModelCollection DotNet symbols in AL have been refactored with the "POS Context" codeunit or alternative Json/Text representation in the same places.</p>
                                        <p>The global POS Context for the currently running POS has been unified into a single-source-of-truth.</p>
                                        <p>So all these methods, along with the context in the POS itself, end up in the same place which decides what to show, for example in a button description with a POS Tag:</p>
                                        <blockquote class="wide" data-mc-conditions="Default.TopNavOnly">
                                            <p>POSCtrl.SetValue</p>
                                            <p>POSCtrl.GetValue</p>
                                            <p>POSCtrl.ClearValue</p>
                                            <p>POSSession.SetValue</p>
                                            <p>POSSession.GetValue</p>
                                            <p>POSSession.DeleteValue</p>
                                            <p>POSCtrl.DeleteDataByTag</p>
                                            <p>POSCtrl.UpdatePosContext</p>
                                            <p>POSCtrl.AddContext (does the same as UpdatePosContext now)</p>
                                            <p>POSCtrl.SendContext (does the same as UpdatePosContext now)</p>
                                            <p>POSContext.SendToPOS (removed, use POSCtrl.UpdatePOSContext instead)</p>
                                            <p>POSView.GetContext (removed and not recommended)</p>
                                            <p>POSSession.GetContext (renamed to POSSession.UpdateContext and not recommended)</p>
                                            <p>POSTransaction.UpdateContext (not recommended)</p>
                                        </blockquote>
                                        <p>All usage of the LSDataSet/LSDataSetCollection DotNet symbols in AL were replaced with the LSDataSet/LSDataSetCollection Codeunits.</p>
                                        <p>So <i>DotNet LSDataSet</i> becomes <i>Codeunit LSDataSet</i> and <i>DotNet LSDataSetCollection</i> becomes <i>Codeunit LSDataSetCollection</i>.</p>
                                        <h3 class="RelNotes">Simplified Modal Functions </h3>
                                        <p class="RelNotes">Modal functions have been simplified in the <b>EPOS Control Interface</b> codeunit. They no longer return any values, since AL cannot wait for any input from the web client (it is async). <br />This results in the following breaking changes:</p>
                                        <ol>
                                            <li value="1">All calls to ShowPanelModal that use its return value will need to be refactored.<p>Examples of these cases are when the return value is used:</p><p>- in conditional statements (if/case):</p><blockquote><p>if not PosCtrl.ShowPanelModal(…) then exit;</p><p>becomes:</p><p>PosCtrl.ShowPanelModal(…);</p><p>exit;</p></blockquote><p>– as a return value (exit parameter):</p><blockquote><p>exit(PosCtrl.ShowPanelModal(…));</p><p>becomes:</p><p>PosCtrl.ShowPanelModal(…);</p><p>exit(false);</p></blockquote><p>– in a boolean variable assignment:</p><blockquote><p>b := PosCtrl.ShowPanelModal(…); // where b: Boolean</p><p>becomes:</p><p>PosCtrl.ShowPanelModal(…);</p><p>b := false;</p></blockquote></li>
                                        </ol>
                                        <ol data-mc-continue="true">
                                            <li value="2">The following methods are now obsolete and will soon be removed; they all have a simpler alternative:<blockquote><p>ShowPanelModalWithPayload</p>OpenNumericKeyboard with return value<p>OpenNumericKeyboardEx</p><p>OpenAlphabeticKeyboardExe</p><p>OpenAlphabeticKeyboardEx</p><p>OpenAlphabeticKeyboard with return value</p><p>OpenAlphabeticKeyboardWithPasswordchar</p><p>OpenCalendar with return value</p><p>OpenCalendarEx</p></blockquote></li>
                                        </ol>
                                        <p>Using the return values has been discouraged since LS Retail started using the Web Client in LS&#160;Nav 2015.</p>
                                        <p>The recommended pattern is that opening a modal should be the last thing your procedures do.</p>
                                        <p>Any following logic should be caused by subscribing to the <b>EPOS Controler</b> codeunit’s <i>OnXXXXResult </i>integration events, for example <i>OnModalPanelResult</i>.</p>
                                        <h2 class="RelNotes">LS&#160;Forecast</h2>
                                        <h3 class="RelNotes-2">LS Forecast Calculation with Variant Grouping</h3>
                                        <h4 class="RelNotes-2">Item Variants Forecast Calculation on Group Level</h4>
                                        <p class="RelNotes">You now have the option to define if the LS Forecast calculation should be performed on each combination of item, variant, and location. Or, if you would like the variants from the same item to be calculated as a group. The latter option reduces the number of combinations and forecast calculations, as LS Forecast will look into the sales history and predict future sales trend of the variants as an aggregation. This option can be activated using the <b>LS Forecast Variant Grouping </b>setting in the Item's <b>Replenishment Control Data </b>page.</p>
                                        <p data-mc-conditions="Default.TopNavOnly">For more information see <a href="../../LS-Retail/LS-Forecast/How-To-Set-Up-LS-Forecast-Items.htm">How to: Set Up Items for LS Forecast</a>&#160;in the <span class="GeneralLSCentral_Mini">LS&#160;Central</span> Help.</p>
                                        <h4 class="RelNotes">Breakdown of Group Forecast Results with Variant Sales Bucket</h4>
                                        <p class="RelNotes">When the group forecast result is downloaded from LS Forecast into <span class="GeneralLSCentral_Mini">LS&#160;Central</span>, the result will be broken down to variant level using the <b>Variant Sales Bucket</b>. These buckets provide an overview of the item's variants sales distribution pattern, which is calculated using the historical sales data of the variants for a specific location, or for all locations. The post-breakdown forecast entries will be used in Replenishment Journal calculation.</p>
                                        <p data-mc-conditions="Default.TopNavOnly">For more information see <a href="../../LS-Retail/LS-Forecast/Variant-Sales-Bucket-Calculation.htm">Variant Sales Bucket Calculation</a>&#160;in the <span class="GeneralLSCentral_Mini">LS&#160;Central</span> Help.</p>
                                        <h2 class="RelNotes">LS&#160;Hardware Station</h2>
                                        <h3 class="RelNotes-2">NLog Replaces LS Log </h3>
                                        <p class="RelNotes">A new logger was added to LS Hardware Station. Log messages are now more detailed and less likely to have concurrency issues with the main program. This makes it easier to find the cause of any issues.</p>
                                        <h3 class="RelNotes">Printing Enhancements </h3>
                                        <p class="RelNotes">Printing through EFT devices via LS Pay has been added to the LS&#160;Hardware Station by the implementation of the PrintAsync from LS&#160;Pay API.</p>
                                        <h3 class="RelNotes">Scale Device Added to LS Hardware Station</h3>
                                        <p class="RelNotes">The scale device has been added to the LS Hardware Station and the functionality of weighing scale items through the <span class="GeneralLSCentral_Mini">LS&#160;Central</span> POS has been reintroduced to the <span class="GeneralLSCentral_Mini">LS&#160;Central</span> solution. The online help topics on scale functionality and LS Hardware Station setup have been updated as well.</p>
                                        <p data-mc-conditions="Default.TopNavOnly">For more information see <a href="../../LS-Retail/POS/Hardware/How-To-Set-Up-Scale-Device.htm">How To Set Up Scale Device</a>,&#160;How to Set Up Virtual Scale for POS, and <a href="../../LS-Retail/LS-Hardware-Station/How-Tos/How-To-Set-Up-LS-Hardware-Station.htm">How to Set Up LS Hardware Station </a>in the <span class="GeneralLSCentral_Mini">LS&#160;Central</span> Help.</p>
                                        <p>The scale functionality is as it was before in the POS with some minor changes:&#160;</p>
                                        <ul>
                                            <li value="1">The scale device is now configured in the <b>POS Scale List </b>and added to the Hardware Profile (the same as other devices).</li>
                                            <li value="2">If the scale should calculate the tare into the weight that is returned, the <b>Tare Calculation</b> option on the <b>Scale Device Card</b> must be turned on. <b>Note:</b> This configuration is the opposite to how it was before.</li>
                                            <li value="3">New configuration was added to the POS&#160;Functionality Profile, called <b>Pad Multiple Items Symbol</b>. It can be used when deciding how the item sale information should be formatted to the customer through Line display or printed receipts.</li>
                                            <li value="4">Print compression now listens to a "Manual weight" flag and does not compress those items with scale weighted items.</li>
                                            <li value="5">The Virtual scale in the LS Hardware Station has been updated and reflects now more functionality that is possible in actual scales.</li>
                                        </ul>
                                        <p><b>Note:</b> This implementation has not been certified. We are currently working on the European certification and will send out an announcement once the certification is finished.  For other countries, the process will be similar as with previous versions.</p>
                                        <h2 class="RelNotesProdGroup">Hospitality</h2>
                                        <h2 class="RelNotes-2">LS&#160;Activity</h2>
                                        <h3 class="RelNotes-2">Set Currency Code for Activity Module</h3>
                                        <p class="RelNotes">If there is a need to operate with activity and reservation prices in other currencies than the accounting currency, it is now possible to set a currency code in the <b>Activity Setup </b>card. </p>
                                        <p>The POSs associated with the activity entries must be based on the same currency as this Activity currency. Reservations can be set in a specific currency for quotes and invoices and a new tile has been added to the FactBox to show the balance in the reservation currency.</p>
                                        <h3 class="RelNotes">Apply Standard BC Customer Discounts to Activities</h3>
                                        <p class="RelNotes">If the customer that is added to a reservation has any discounts set up for the Activity products, these are now applied to the activity.</p>
                                        <h3 class="RelNotes">Group Enhancements</h3>
                                        <p class="RelNotes">Sometimes it is not necessary to expand a group reservation to individual reservations for each group member - this makes it possible to create "common" activities for the group. Therefore, a new option has been added to the reservation types, <i>Group Reservation Expanding</i>, which controls if the group only expands to the paymaster and not to individual bookings.</p>
                                        <h3 class="RelNotes">Matrix Enhancements</h3>
                                        <p class="RelNotes">To improve the usability of the matrix, new options to Check Resource schedule have been added in the <b>Matrix Template Card</b>:</p>
                                        <ul>
                                            <li value="1"><i>No</i> - (default)</li>
                                            <li value="2"><i>Yes </i>- Removes resources without schedule (that is opening hours, scheduled, staff man schedule) from the resource list, and also for Qty based resources, it removes intervals with no scheduled qty.</li>
                                            <li value="3"><i>Per Day</i> - removes resources without schedule only (see information on the <i>Yes</i> option)</li>
                                            <li value="4"><i>Per Interval</i> - removes qty based resources from interval only (see information on the <i>Yes </i>option).</li>
                                        </ul>
                                        <p>New possibility has been added to control the resource captions in the Matrix by adding a Resource Caption Script on the <b>Matrix Template Card</b>. Set the script to show the Resource caption - leave blank for default handling. <b>Note:</b> Only fields from the <b>Activity Resource </b>table are valid in the caption script.</p>
                                        <h3 class="RelNotes">New Activity Events</h3>
                                        <p>The following events have been added to LS Activity:</p>
                                        <ul>
                                            <li value="1">OnBeforePOSCommand</li>
                                            <li value="2">OnAfterPOSCommand</li>
                                            <li value="3">OnBeforeChargeToReservation</li>
                                            <li value="4">OnBeforeFindPrice</li>
                                        </ul>
                                        <h3 class="RelNotes">Product Search</h3>
                                        <p class="RelNotes">The product search has been improved, so it is now possible to set an <b>Activity Type </b>criteria on the <b>Activity Start Booking </b>page to narrow the products listed on the page. </p>
                                        <p>It is also possible to add search tags to the activity products and these can be used to search for products using the standard BC search. There is also a new action, <b>Keep Search</b>, which will keep the search word in the search criteria and then it is possible to add another search text to further narrow the search.</p>
                                        <h3 class="RelNotes">Reservation Enhancements</h3>
                                        <ul>
                                            <li value="1">
                                                <p class="RelNotes">It is now possible to use the standard Attach Document process to attach documents to the <b>Reservations</b> and <b>Group Reservations</b>.</p>
                                            </li>
                                            <li value="2">
                                                <p>New setting on the <b>Reservation Type</b> to show <b>Task Schedule</b> as a Fast Tab on the <b>Reservation Card</b>.</p>
                                            </li>
                                            <li value="3">
                                                <p>New settings in Activity Setup: <b>Always Create New Members</b>, <b>Default Member Club</b>. This will create a new member in the default member club, if name and either phone or email are populated for activity, reservation, or group members but no member contact assigned, then create a new member contact automatically during entry.</p>
                                            </li>
                                            <li value="4">
                                                <p>It is also possible to search for both phone and email in the <b>Name </b>field on the <b>Reservation Card </b>and the <b>Activity Card</b> - this only works if the <b>Contact No.</b> field is blank.</p>
                                            </li>
                                        </ul>
                                        <h3 class="RelNotes">Resource Enhancements</h3>
                                        <p class="RelNotes">Sometimes a resource does not have the capability of the product when assigned as required resource - now the user is prompted, if the systems should assign the capability automatically instead of having to do that manually.</p>
                                        <h2 class="RelNotes"><span class="GeneralLSCentral_Mini">LS&#160;Central</span> for Hotels</h2>
                                        <h3 class="RelNotes-2">Customer Discounts</h3>
                                        <p class="RelNotes">If the customer that is added to a reservation has some discounts set up for the accommodation products, then these are applied to the reservation.</p>
                                        <h3 class="RelNotes">Hotel Group Reservations (also with Activity Groups)</h3>
                                        <p class="RelNotes">The Guest List for Hotel groups has been enhanced, so it is always up-to-date when groups are changed. The guest list is also synchronized with the <b>Activity Group Member </b>list, if LS Activity is used with LS Hotels to keep track of Activity Group reservations.</p>
                                        <h3 class="RelNotes">Hotel Price Management Enhancements</h3>
                                        <p class="RelNotes">It is now possible to manually override the price for the rooms in the <b>Invoice Management </b>page. If a night audit job has been run on lines that are being changed, the system will create the necessary corrections on the temporary accounts used in the night audit process.</p>
                                        <h3 class="RelNotes">Rate Code Enhancements</h3>
                                        <p class="RelNotes">The <b>Rate Codes</b> have been changed to contain <b>Rate Code Attributes</b> - this replaces the Breakfast Package and Hotel Package previously on the rate codes. Now it is possible to set Rate Code Attributes that can be items, packages (hotel packages), and/or Activity products (if using LS&#160;Activity). These attributes are then added to the reservation based on the posting pattern set on the attribute. If an activity package is set with a daily posting pattern on a rate code, then all of the activities within that package are created when you confirm a hotel reservation.</p>
                                        <p>Hotel <b>Rate Codes</b> can be defined in other currencies than the base LCY. <b>Note:&#160;</b>The Rate Code is set in a specific currency, but it is converted to the LCY Currency on the reservation.</p>
                                        <h3 class="RelNotes">Reservation Enhancements</h3>
                                        <p class="RelNotes">It is now possible to use the standard <b>Attach Document </b>process to attach documents to Reservations and Group Reservations.</p>
                                        <p>A new setting on the Reservation Type shows <b>Reservation Comments </b>as a Fast Tab on the <b>Reservation Card</b>. The same Task management framework as in LS Activity is now also available in LS&#160;Central for hotels. Tasks can be set up for Reservation Types, Room Types, and Rate Codes that are created when a reservation is made. The tasks are shown as a tile in the Role Center and when clicked the task list opens.</p>
                                        <p>The Cancellation policy that is on the Rate Code is now copied to the reservation when confirmed.</p>
                                        <p>It is now possible to create a reservation with a guest without an email - the system still creates a member contact but without an email.</p>
                                        <h3 class="RelNotes">Restrictions, New Field</h3>
                                        <p class="RelNotes">A new field has been added on the <b>Restriction </b>page to enforce restrictions. If you select this field, the action is not allowed; otherwise, the user gets a warning message and he or she can bypass the restriction.</p>
                                        <h3 class="RelNotes">Role Center</h3>
                                        <p class="RelNotes">The <b>No Show</b> tile in the Role Center has been set to show the <i>No Shows </i>for the past three days.</p>
                                        <h3 class="RelNotes">Tape Chart (Calendar View) Enhancements</h3>
                                        <p class="RelNotes">It is now possible to view unallocated reservations on the Tape Chart and allocate them by dragging and dropping to a room. The panel for unallocated reservations is visible, if there are unallocated reservations for the dates that the Tape Chart is showing. If there are no unallocated reservations, the panel is hidden.</p>
                                        <p>You can also drag and drop reservations from one date to another. If the change involves a change in price, the <b>Rate Change </b>page will open for you to review and confirm the change.</p>
                                        <p>The Tape Chart can now be sorted and filtered on <i>Room Type</i>.</p>
                                        <h2 class="RelNotes"><span class="GeneralLSCentral_Mini">LS&#160;Central</span> for Restaurants </h2>
                                        <h3 class="RelNotes-2">Enhancements to the Reservation Desk and Allocation Panel</h3>
                                        <p class="RelNotes">The <b>Reservation Desk</b> and<b> Allocation Panel </b>have been further enhanced for improved process flow and usability. Open reservations can be set as<i> No-Show </i>and there is an improved flow on Canceling Reservations and Waitlist entries. If a reservation is canceled or moved, the waitlist is checked so the user can move a waitlist entry to a reservation.</p>
                                        <h3 class="RelNotes">Change Sales Type by Selection</h3>
                                        <p class="RelNotes">It is now possible to set a different Sales Type on a transaction or item by a selection from a pop-up. This is done by leaving the parameter field empty for the following POS commands:</p>
                                        <ul>
                                            <li value="1">CHSALESTYPE_TRANS</li>
                                            <li value="2">CHSALESTYPE_LINES</li>
                                            <li value="3">SETSALESTYPE_TRANS</li>
                                            <li value="4">SETSALESTYPE_LINES</li>
                                        </ul>
                                        <h3 class="RelNotes">Web Templates for Reservation Preferences</h3>
                                        <p class="RelNotes">New POS web templates have been added, <b>DR-Member</b> and<b> DR-Member-Large</b>, to the <b>Reservation Desk </b>and to the POS layouts for S0005. These web templates show the reservation preferences made at the Reservation desk and these preferences are then visible on the POS when serving the customer.</p>
                                        <h2 class="RelNotesProdGroup"><a name="POS"></a>POS&#160;Commands</h2>
                                        <p class="RelNotes">The following POS commands are new in <span class="GeneralLSCentral_Mini">LS&#160;Central</span> 17.0:</p>
                                        <ul data-mc-conditions="Default.TopNavOnly">
                                            <li value="1">PICK_ALL&#160;- Customer Order Pick all lines</li>
                                            <li value="2">PICK_LINE - Customer Order Pick line</li>
                                            <li value="3">PREAUTH - Pre-authorize payment with card</li>
                                            <li value="4">PREAUTH-FINALIZE - Finalize a Pre-authorized payment with card</li>
                                            <li value="5">PREAUTH-UPDATE - Update Pre-authorized payment with card</li>
                                            <li value="6">TOOLTIP - Request tooltip data on hover</li>
                                            <li value="7">TOOLTIP_TOGGLE - Enable/disable tooltips (disabled by default)</li>
                                            <li value="8">TR-R-LIST_SHOW_ACT - Open a panel with a list of active dining reservations</li>
                                            <li value="9">TR-R-LIST_SHOW_CONF - Open a panel with a list of confirmed dining reservations</li>
                                            <li value="10">TR-R-LIST_SHOW_WAIT - Open a panel with a list of waiting list dining reservations</li>
                                            <li value="11">TR-R-LIST_SHOW_WALK - Open a panel with a list of walk-in dining reservations</li>
                                            <li value="12">TR-R-LIST_TOGDINAREA - Toggle a dining area filter in the Dining Reservation List panel. </li>
                                        </ul>
                                        <p data-mc-conditions="Default.TopNavOnly">See the <a href="https://help.lscentral.lsretail.com/Content/LS Retail/POS/Functionality/Commands.htm"><span class="GeneralLSCentral_Mini">LS&#160;Central</span> Help</a> and the corresponding <a href="https://help.lscentral.lsretail.com/Content/Resources/Documents for download/POS Commands.xlsx">Excel</a> list with filters for a complete list of POS commands.</p>
                                        <h2 class="RelNotesProdGroup">Demo Data</h2>
                                        <h3 class="RelNotes-2">Demo Data Changes</h3>
                                        <p class="RelNotes">There are changes in the demo data for items, vendors and customers, and for VAT and Posting setup. These changes were done so that the <span class="GeneralLSCentral_Mini">LS&#160;Central</span> demo data is in sync with <span class="GeneralBC_Mini">Business Central</span> demo data.</p>
                                        <p><span class="GeneralLSCentral_Mini">LS&#160;Central</span> demo items:&#160;</p>
                                        <ul>
                                            <li value="1">VAT Product Posting group values <i>STANDARD</i>,<i> REDUCED</i>, and <i>ZERO</i> replace VAT25, VAT10, and NO VAT</li>
                                            <li value="2">Gen. Business Posting Group value <i>DOMESTIC</i> replaces NATIONAL.</li>
                                        </ul>
                                        <p><span class="GeneralLSCentral_Mini">LS&#160;Central</span> demo vendors and customers:&#160;</p>
                                        <ul>
                                            <li value="1">VAT Business Posting Group value <i> DOMESTIC</i> replaces NATIONAL</li>
                                            <li value="2">Gen. Business posting Group value<i> DOMESTIC</i> replaces NATIONAL.</li>
                                        </ul>
                                        <p>Other setup data regarding this have been added accordingly.</p>
                                        <h4 class="RelNotes">Changes in Scheduled Jobs </h4>
                                        <p class="RelNotes">The scheduler job <i>POS32-All </i>has been removed and replaced with two new jobs, <i>POS-ALL-INIT</i> and <i>POS-ALL-UPDATE</i>. These jobs replicate data to the POS so the POS can run offline.</p>
                                        <h2 class="RelNotesProdGroup">Other</h2>
                                        <h3 class="RelNotes-2"><span class="GeneralLSCentral_Mini">LS&#160;Central</span> AppShell</h3>
                                        <p class="RelNotes"><span class="GeneralLSCentral_Mini">LS&#160;Central</span> AppShell, iOS version, is currently not working with <span class="GeneralLSCentral_Mini">LS&#160;Central</span> 17.0, the cause for this is being investigated. The iOS version still works with older versions of <span class="GeneralLSCentral_Mini">LS&#160;Central</span> .</p>
                                        <h3 class="RelNotes"><span class="GeneralLSCentral_Mini">LS&#160;Central</span> Help</h3>
                                        <p class="RelNotes"><span class="GeneralLSCentral_Mini">LS&#160;Central</span> Help now appears in an updated look. The top navigation format, with the menus at the top of the screen, has been replaced by side navigation, a more functional format that has the menus on the left side of the screen with the menu tree always visible. </p>
                                        <p>All previously available help functionality, such as the search function and links to various support material, older help and documents, for example, is still available on the <a href="https://help.lscentral.lsretail.com/Content/home.html">home page</a>. </p>
                                        <h2 class="RelNotesSection">Fixed Issues</h2>
                                        <h2 class="RelNotesProdGroup">Retail</h2>
                                        <h2 class="RelNotes-2">LS&#160;Hardware Station</h2>
                                        <h3 class="RelNotes-2">Connection Test </h3>
                                        <p class="RelNotes">LS Hardware Station now tests the connection before every invocation and tries to reconnect, if it is not connected.</p>
                                        <h3 class="RelNotes">Cancel Button Not Displayed</h3>
                                        <p class="RelNotes">A Cancel button is no longer displayed in the POS when a transaction is performed on an EFT device that does not support canceling.</p>
                                        <p>&#160;</p>
                                        <p>&#160;</p>
                                    </div>
                                    <div id="footer" class="ls-nav-footer">
                                        <hr width="100%" size="0" align="center" />
                                        <p>© <span class="VariablesCurrentYear">2021</span> LS Retail ehf. All rights reserved.  </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div><a data-close="true"></a>
                </div>
            </div>
        </div>
    </body>
</html>