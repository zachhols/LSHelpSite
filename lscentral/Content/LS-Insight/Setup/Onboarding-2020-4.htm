<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="_Skins_HTML5___Side_Navigation" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="../../../" data-mc-has-content-body="True" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="msapplication-config" content="../../../Skins/Favicons/browserconfig.xml" />
        <link rel="apple-touch-icon" sizes="180x180" href="../../../Skins/Favicons/apple-touch-icon.png" />
        <link rel="shortcut icon" href="../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="96x96" href="../../../Skins/Favicons/favicon-96x96.png" />
        <link rel="icon" sizes="32x32" href="../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="16x16" href="../../../Skins/Favicons/favicon-16x16.png" /><title>Onboarding</title>
        <link rel="shortcut icon" href="/Content/Resources/Images/favicon.ico" />
        <link href="../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" />
        <link href="../../../Skins/Fluid/Stylesheets/foundation.6.2.3.css" rel="stylesheet" />
        <link href="../../../Skins/Fluid/Stylesheets/Styles.css" rel="stylesheet" />
        <link href="../../../Skins/Fluid/Stylesheets/Tablet.css" rel="stylesheet" />
        <link href="../../../Skins/Fluid/Stylesheets/Mobile.css" rel="stylesheet" />
        <link href="../../Resources/Stylesheets/LSNav.css" rel="stylesheet" />
        <script src="../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.min.js" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/require.config.js" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/foundation.6.2.3_custom.js" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js" defer="defer">
        </script>
        <script src="../../Resources/Javascripts/Scroll-Button.js" defer="defer">
        </script>
    </head>
    <body>
        <div class="foundation-wrap off-canvas-wrapper">
            <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
                <aside class="off-canvas position-right" role="navigation" id="offCanvas" data-off-canvas="" data-position="right" data-mc-ignore="true">
                    <ul class="off-canvas-accordion vertical menu off-canvas-list" data-accordion-menu="" data-mc-back-link="Back" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True">
                    </ul>
                </aside>
                <div class="off-canvas-content inner-wrap" data-off-canvas-content="">
                    <div data-sticky-container="" class="title-bar-container">
                        <nav class="title-bar tab-bar sticky" data-sticky="" data-options="marginTop:0" style="width:100%" data-sticky-on="only screen and (max-width: 1279px)" data-mc-ignore="true"><a class="skip-to-content fluid-skip showOnFocus" href="#">Skip To Main Content</a>
                            <div class="middle title-bar-section outer-row clearfix">
                                <div class="menu-icon-container relative clearfix">
                                    <div class="central-dropdown" style="display:none;" id="#centralSmallScreen"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                        <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                            <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                        </div>
                                    </div>
                                    <button class="menu-icon" aria-label="Show Navigation Panel" data-toggle="offCanvas"><span></span>
                                    </button>
                                </div>
                            </div>
                            <div class="title-bar-layout outer-row">
                                <div class="logo-wrapper"><a class="logo" href="../../home.html" title="LS Central Help" alt="Logo"></a>
                                </div>
                                <div class="navigation-wrapper nocontent">
                                    <ul class="navigation clearfix" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="3" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                        <li class="placeholder" style="visibility:hidden"><a>placeholder</a>
                                        </li>
                                    </ul>
                                    <div class="central-dropdown" style="display:none;" id="#centralTop"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                        <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                            <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                        </div>
                                    </div>
                                </div>
                                <div class="nav-search-wrapper">
                                    <div class="nav-search row">
                                        <form class="search" action="#">
                                            <div class="search-bar search-bar-container needs-pie">
                                                <input class="search-field needs-pie" type="search" aria-label="Search Field" placeholder="Search" />
                                                <div class="search-filter-wrapper"><span class="invisible-label" id="search-filters-label">Filter: </span>
                                                    <div class="search-filter" aria-haspopup="true" aria-controls="sf-content" aria-expanded="false" aria-label="Search Filter" title="All Files" role="button" tabindex="0">
                                                    </div>
                                                    <div class="search-filter-content" id="sf-content">
                                                        <ul>
                                                            <li>
                                                                <button class="mc-dropdown-item" aria-labelledby="search-filters-label filterSelectorLabel-00001"><span id="filterSelectorLabel-00001">All Files</span>
                                                                </button>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="search-submit-wrapper" dir="ltr">
                                                    <div class="search-submit" title="Search" role="button" tabindex="0"><span class="invisible-label">Submit Search</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                    <div class="central-dropdown" style="display:none;"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                        <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                            <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </nav>
                    </div>
                    <div class="main-section">
                        <div class="row outer-row sidenav-layout">
                            <nav class="sidenav-wrapper">
                                <div class="sidenav-container">
                                    <ul class="off-canvas-accordion vertical menu sidenav" data-accordion-menu="" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu accordion-menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="False" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True" data-mc-side-nav-menu="True">
                                    </ul>
                                </div>
                            </nav>
                            <div class="body-container">
                                <div data-mc-content-body="True">
                                    <MadCap:conditionalText data-mc-conditions="Default.GoogleAnalytics">
                                        <script>/* <![CDATA[ */
				(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
				(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
				m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
				})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
			
				ga('create', 'UA-58791693-4', 'auto');
			
				var file = document.location.href; 
				file = file.substring(0, (file.indexOf("#") == -1) ? file.length : file.indexOf("#"));
				file = file.substring(0, (file.indexOf("?") == -1) ? file.length : file.indexOf("?"));
				file = file.substring(file.lastIndexOf("/") + 1, file.length);
 
				if (file === 'Search.htm') 
				{
					var newPath = document.location.pathname + document.location.search + document.location.hash;
					newPath = newPath.replace(/#/, '?');
					newPath = newPath.replace(/search\-/, 'q=');
					ga('set', 'page', newPath);
				
					function locationHashChanged()
					{
						newPath = document.location.pathname + document.location.search + document.location.hash;
						newPath = newPath.replace(/#/, '?');
						newPath = newPath.replace(/search\-/, 'q=');
						ga('set', 'page', newPath);
						ga('send', 'pageview');
					}
				
					if(window.HashChangeEvent)
					{
						window.onhashchange = locationHashChanged;
					}
				}
				ga('send', 'pageview');
			/* ]]> */</script>
                                    </MadCap:conditionalText>
                                    <p>&#160;</p>
                                    <div role="main" id="mc-main-content">
                                        <h1><a name="aanchor13191"></a>
                                            <MadCap:concept term="Retail" />Onboarding Process</h1>
                                        <p>To set up <b>LS Insight v. 2020.3</b> and later you need to follow these steps. Before you start, review the <a href="Prerequisites.htm" class="MCXref xref">Prerequisites</a> that need to be in place.</p>
                                        <p><b>Note:&#160;</b>Everything you need to run LS Insight is created by the Deployment script. This includes the Azure data factory, Azure SQL server, and the Data warehouse. Therefore, do not create any of these manually.</p>
                                        <h2>1 Request and receive LS Insight</h2>
                                        <p>The first step is to request LS Insight from the <a href="https://portal.lsretail.com/Products/LS-Insight">LS&#160;Retail Portal</a>. Enter your information and you will receive an email with a download link.</p>
                                        <p>Once you have downloaded and unzipped the LS Insight product package to your machine, you can start the setup of LS&#160;Insight.</p>
                                        <p><b>The package contains a folder with the following files:</b>
                                        </p>
                                        <ul>
                                            <li style="color: #000000;" value="1">arm_template folder<ul style="list-style-type: circle;"><li style="color: #000000;" value="1">arm_template - LS Insight (LS Central 14.2 or older).json</li><li value="2">arm_template - LS Insight (LS Central 15.0 or later).json</li><li value="3">arm_template - LS Insight Hotels.json</li><li style="color: #000000;" value="4">arm_template:parameters.json</li></ul></li>
                                            <li style="color: #000000;" value="2">DeploymentScript.ps1</li>
                                            <li style="color: #000000;" value="3">LS Insight Hotels 2020.3.pbit</li>
                                            <li style="color: #000000;" value="4">LS Insight Inventory 2020.3.pbit</li>
                                            <li style="color: #000000;" value="5">LS Insight Sales 2020.3.pbit</li>
                                            <li style="color: #000000;" value="6">parameters.txt</li>
                                        </ul>
                                        <p>The folder you extracted the package to, will from now on be referred to as the <i>Base folder</i>.</p>
                                        <h2>2 Set up PowerShell and register resource provider</h2>
                                        <ul>
                                            <li value="1">
                                                <p>To run the onboarding script, you must have the new Azure PowerShell Az module installed.<br />For further instructions see <a href="https://docs.microsoft.com/en-us/powershell/azure/new-azureps-module-az?view=azps-3.1.0&amp;viewFallbackFrom=azps-2.2.0">Introducing the new Azure PowerShell Az module</a>.</p>
                                            </li>
                                            <li value="2">
                                                <p>In case you do not have the Az module installed, run the following command as Administrator in PowerShell:<br /><br /><i>Install-Module -Name Az -AllowClobber</i></p>
                                            </li>
                                            <li value="3">
                                                <p>You must also register the AZ resource provider by running these lines in PowerShell:</p>
                                                <p><i>Connect-AzAccount</i>
                                                </p>
                                                <p><i>Register-AzResourceProvider -ProviderName Microsoft.DataFactory</i>
                                                </p>
                                            </li>
                                        </ul>
                                        <h2>3 Get Azure information</h2>
                                        <ol>
                                            <li value="1">
                                                <p>In the Azure portal, create a resource group. Save the name of the group for later use:</p>
                                                <p>
                                                    <img src="../../Resources/Images/LS Insight Help/azureinfo1_600x313.png" style="width: 600;height: 313;" class="images">
                                                    </img>
                                                </p>
                                            </li>
                                            <li value="2">
                                                <p>Copy the subscription ID for later use:</p>
                                                <p>
                                                    <img src="../../Resources/Images/LS Insight Help/azureinfo2_600x309.png" style="width: 600;height: 309;" class="images" />
                                                </p>
                                            </li>
                                        </ol>
                                        <h2>4 Create an SQL&#160;user</h2>
                                        <p>In SQL Management Studio, create an SQL login with read privileges to your <span class="GeneralLSCentral_Mini">LS&#160;Central</span> Database.</p>
                                        <h2>5 Set the project parameters</h2>
                                        <p>Open the file <i>parameters.txt</i> that is included in the package.</p>
                                        <p>Here you enter the following information that is used by the <i> DeploymentScript.ps1</i> onboarding script. <b>Note:</b> Do not use quotation marks, spaces, or special characters.</p>
                                        <p><b>$subscriptionId</b> = Enter or paste your Azure subscription ID here.</p>
                                        <p><b>$SourceServerName</b> = Enter the server name of <span class="GeneralLSCentral_Mini">LS&#160;Central</span>.</p>
                                        <ul>
                                            <li value="1">This is the server that hosts your <span class="GeneralLSCentral_Mini">LS&#160;Central</span> database.</li>
                                        </ul>
                                        <p><b>$SourceDatabaseName</b> = Enter the database name for your <span class="GeneralLSCentral_Mini">LS&#160;Central</span>.</p>
                                        <p><b>$SourceUserName</b> = Enter the login of an SQL&#160;user that has read privileges for the <span class="GeneralLSCentral_Mini">LS&#160;Central</span> database.</p>
                                        <p><b>$SourcePassword</b> = Enter the password for the above user.</p>
                                        <p><b>$CompanyName</b> = Enter the company name as it appears in the <span class="GeneralLSCentral_Mini">LS&#160;Central</span> 'Company information' table.</p>
                                        <ul>
                                            <li value="1">If you want to select from existing company names in the database, you can delete this whole line from the parameter files and the script will then get the company names from the database and let you select the one you want to use. </li>
                                        </ul>
                                        <p><b>$ADFName</b>= LSInsight-ADF</p>
                                        <ul>
                                            <li value="1">This will be the name of the Azure Data Factory (ADF) that will be  created in Azure by the <i> DeploymentScript.ps1</i></li>
                                            <li value="2">You can change this to your preferred name but you need to make sure that this data factory name does not already exist in your Azure portal. </li>
                                        </ul>
                                        <p><b>$TriggerStartDate</b> = Enter the start date of the Pipeline trigger schedule in format YYYY-MM-DD.</p>
                                        <p><b>$TriggerOffsetHour</b> = Enter the hour you want the Pipeline run to trigger in format HH.</p>
                                        <p><b>$ResourceGroupName</b> = Enter the resource group you want to use for the project and you created in step 3.1.</p>
                                        <p><b>$ServerName</b> = LSInsightServer</p>
                                        <ul>
                                            <li value="1">The SQL server name should only have lower case letters, '-' and numbers.</li>
                                            <li value="2">The server will be created in Azure by the <i> DeploymentScript.ps1</i>.</li>
                                        </ul>
                                        <p><b>$DataBaseName</b> = LSInsightDW</p>
                                        <ul>
                                            <li value="1">The SQL database will be created in Azure by the <i> DeploymentScript.ps1</i>.</li>
                                        </ul>
                                        <p><b>$LocationSel</b> = 1</p>
                                        <ul>
                                            <li value="1">Select location for the Azure Data Factory service:<ul style="list-style-type: circle;"><li value="1"> 1 for North Europe (default) </li><li value="2">2 for East US </li><li value="3">3 for West US </li><li value="4">4 for West Central US. More locations will be added when they become available in Azure for all needed services.</li></ul></li>
                                        </ul>
                                        <p><b>$Serverlogin</b> = Enter a name for the admin user of the <i>LSInsightServer</i>.</p>
                                        <ul>
                                            <li value="1">The user will be created in Azure by the <i> DeploymentScript.ps1</i>.</li>
                                        </ul>
                                        <p><b>$Password</b> = Enter a password for the admin user of the <i>LSInsightServer</i> and store the password for later use.</p>
                                        <ul>
                                            <li value="1">The password will be created in Azure by the <i> DeploymentScript.ps1</i>.</li>
                                        </ul>
                                        <h2>6 Create project and deploy to Azure</h2>
                                        <ol>
                                            <li value="1">
                                                <p>Open<i> DeploymentScript.ps1</i> using VS Code, PowerShell ISE, or your favorite PowerShell editor.</p>
                                            </li>
                                            <li value="2"> Run the script (F5).</li>
                                            <li value="3">
                                                <p>The script will check for the Az module setup mentioned earlier, and if the module is missing, the script will terminate and you can set it up at this time by following the steps in section 2.</p>
                                                <p><b>Note:&#160;</b>You must open the PowerShell 'as administrator' to be able to set up the module.</p>
                                            </li>
                                            <li value="4">The script will prompt for which version of <span class="GeneralLSCentral_Mini">LS&#160;Central</span> you are running: <ul><li value="1">Enter <i>0</i> and click Enter, for <span class="GeneralLSCentral_Mini">LS&#160;Central</span> 14.2 and older.</li><li value="2">Enter <i>1 </i>and click Enter, for <span class="GeneralLSCentral_Mini">LS&#160;Central</span> 15.0 and later.</li></ul></li>
                                            <li value="5">
                                                <p>If you are running <span class="GeneralLSCentral_Mini">LS&#160;Central</span> 15.0 and later, the script will prompt for which part of LS Insight you want to install. If you are running 14.2 or older, this step is skipped and the script will set up LS Insight for <span class="GeneralLSCentral_Mini">LS&#160;Central</span>: </p>
                                                <ul>
                                                    <li value="1">Enter <i>0</i> and click Enter, for LS Insight for <span class="GeneralLSCentral_Mini">LS&#160;Central</span>. </li>
                                                    <li value="2">Enter <i>1</i> and click Enter, if you already have the LS Insight for <span class="GeneralLSCentral_Mini">LS&#160;Central</span> set up and want to add the LS Insight for  Hotels.</li>
                                                    <li value="3">Enter<i> 2</i> and click Enter, if you want to set up LS Insight for <span class="GeneralLSCentral_Mini">LS&#160;Central</span> and Hotels. </li>
                                                </ul>
                                            </li>
                                            <li value="6">
                                                <p>Next, you will be prompted for a full path to the base folder. This is the folder where you extracted the LS Insight package. </p>
                                                <p>If you choose to set up the LS Insight (Hotels) in addition to a previous LS Insight for <span class="GeneralLSCentral_Mini">LS&#160;Central</span> installation, you will be also be prompted for a full path to the LS Insight project folder. The project folder is a folder that was generated during the setup of LS Insight (<span class="GeneralLSCentral_Mini">LS&#160;Central</span>) with a name like <i>YYYYMMDD-MyProject</i> and it should be present in the <i>Base folder</i> for your previous LS Insight setup.</p>
                                            </li>
                                            <li value="7">
                                                <p>The script will now display a summary of the information you have selected and entered. If everything is correct, you can just enter a <i>y</i> and the script will continue, but if you do nothing or enter any other letter, the script will start again from the beginning.</p>
                                            </li>
                                            <li value="8">
                                                <p>If you have active (azContext) in PowerShell, those credentials will be used for the next step, and you do not have to enter your Azure account credentials again. But if there is no active azContext, you will be prompted to enter your Azure account login information.</p>
                                                <p><b>Note: </b>The Azure login window will pop up in a different window and might be hidden by the PowerShell editor.</p>
                                            </li>
                                            <li value="9">
                                                <p>Once you have been logged into Azure, the script will now validate the following:</p>
                                                <ul>
                                                    <li value="1">The source parameters, credentials, and company name, </li>
                                                    <li value="2">The Azure resource names, checking whether they already exist and follow the Azure naming convention.</li>
                                                    <li value="3">The TriggerStartDate and OffsetHour format.</li>
                                                </ul>
                                                <p>If some of the parameters are not valid, the script will stop and return an error message. Otherwise, it will run based on the parameters provided.</p>
                                            </li>
                                            <li value="10">
                                                <p>The script will now run and create the resources in Azure.</p>
                                                <p><b>Tip:&#160;</b>The running of the script will take about 5-10 minutes.</p>
                                            </li>
                                            <li value="11">
                                                <p>Once the script is done, it will notify you by printing out a message, add a new folder (<i>YYYYMMDD-MyProject</i>)  in the <i>Base Folder</i>, and open the <i>DeploymentSummary.json </i>file with your deployment information.</p>
                                                <p><b>Note:</b>The Azure SQL server credentials needed to connect the Power BI&#160;reports are visible in this file. If you want to keep these credentials somewhere else, where they cannot be accessed in clear text, you must delete them from the parameter and summary files after completing this onboarding process.</p>
                                            </li>
                                        </ol>
                                        <h2>7 Log into the Azure portal</h2>
                                        <ol>
                                            <li value="1">
                                                <p>Open and log into <a href="https://portal.azure.com/" target="_blank">Azure portal.</a></p>
                                            </li>
                                            <li value="2">You will find three resources created with the deployment script:<ul><li value="1">Azure Data Factory</li><li value="2">SQL Database</li><li value="3">SQL Server</li></ul></li>
                                        </ol>
                                        <h2>8 Set up the Azure Gateway</h2>
                                        <p>It is now time for you to set up the Gateway:</p>
                                        <ol>
                                            <li value="1">
                                                <p>In Azure Portal, Open the Azure Data Factory that was created by the Deployment script.</p>
                                            </li>
                                            <li value="2">
                                                <p>In the main window, open the <b>Author &amp; Monitor</b> link.</p>
                                            </li>
                                            <li value="3">
                                                <p>Open the <b>Manage</b> option, the toolbox icon on the left navigation menu.</p>
                                            </li>
                                            <li value="4">
                                                <p> Open the <b>Integration runtimes</b> option from the left menu Connections section.</p>
                                            </li>
                                            <li value="5">
                                                <p>Open the <b>LSInsight-integrationRuntime</b> from the list.</p>
                                                <p>
                                                    <img src="../../Resources/Images/LS Insight Help/integrationruntime_700x209.png" style="width: 700;height: 209;" class="images" />
                                                </p>
                                            </li>
                                            <li value="6">From the integration runtime you have two options to set up the Integration runtime (Gateway).<h3>Option 1: Express setup</h3><p>When you select this option an <i>.exe</i> file starts to download, and once you run it the gateway is set up locally on your machine, without you having to do anything.</p><p><b>Note:</b> Like mentioned in the <a href="Prerequisites.htm">prerequisites,</a> this should be the default option if you are logged into Azure and running the script from the same host machine.</p><p><img src="../../Resources/Images/LS Insight Help/gatwaylocal_400x276.png" style="width: 400;height: 276;" class="images" /></p><h3>Option 2: Manual setup</h3><p>When you select this option you will download an <i>.exe </i>file to install integration runtime (Gateway) on a different machine. You can then copy the <i>.exe</i> file to any machine and use either key1 or key2 in the setup steps to register the gateway with this Azure data factory.</p></li>
                                            <li value="7">
                                                <p>Once you have setup the Gateway, go back to Azure and click <b>Cancel</b> in the Integration runtime panel to close it.</p>
                                            </li>
                                            <li value="8">
                                                <p style="font-style: normal;">  Then click <b>Refresh </b>in the <b>Integration runtimes</b> overview window to view the status for <b>LSInsight-integrationRuntime</b>. After you refresh the status should be <i>Running</i>.</p>
                                            </li>
                                        </ol>
                                        <h2>9 Activate the pipeline trigger</h2>
                                        <p>Now you can finally activate the pipelines that move data from your <span class="GeneralLSCentral_Mini">LS&#160;Central</span> database to the Azure data warehouse.</p>
                                        <ol>
                                            <li value="1">In the Azure data factory, the <b>Manage</b> section, open <b>Triggers</b> from the left menu <b>Author </b>section. </li>
                                            <li value="2">
                                                <p>Activate the trigger <b>RunAllPipelines</b> by hovering over it in the list and clicking the <b>Play</b> icon.</p>
                                            </li>
                                            <li value="3">Select <b>Publish all</b> from the top menu to commit the changes to the server.</li>
                                        </ol>
                                        <p>Now the Setup for LS Insight data factory and data warehouse is done and will run as the trigger schedule settings imply.</p>
                                        <p>In case you do not want to wait for the scheduled run, you can now <a href="../Manually-Run-Trigger.htm">manually run the pipeline trigger</a>, and <a href="../Editing-Pipeline-Schedule.htm">edit the trigger schedule,</a> if needed.</p>
                                        <p><b>Tip:&#160;</b>If you wait for the schedule, it is a good idea to <a href="../Monitoring-Pipeline.htm">monitor how the pipeline run went</a>.</p>
                                        <h2>10 Set up the Power BI report</h2>
                                        <p>The installation package that you extracted to the Base folder includes three Power BI templates that can now be connected to the SQL database created in Azure by the <i> DeploymentScript.ps1</i>.</p>
                                        <p><b style="color: #000000;">The Power BI template files are named:</b>
                                        </p>
                                        <ul>
                                            <li value="1">LS Insight Inventory YYYY.x.pbit</li>
                                            <li value="2">LS Insight Sales YYYY.x.pbit</li>
                                            <li value="3">LS Insight Hotels YYYY,x,pbit</li>
                                        </ul>
                                        <p><b>Note:</b> The LS Insight Hotels template will only work if you are running the <span class="GeneralLSCentral_Mini">LS&#160;Central</span> for Hotels extension (available for version 15.3 and later) in your <span class="GeneralLSCentral_Mini">LS&#160;Central</span> instance and have set up LS Insight for <span class="GeneralLSCentral_Mini">LS&#160;Central</span> and Hotels.</p>
                                        <p><b>Connecting Power BI template with LS Insight database</b>
                                        </p>
                                        <ol>
                                            <li value="1">
                                                <p>Now open either of the LS Insight template files. You need to repeat the following steps for each report template you want to publish to the Power BI cloud service.</p>
                                                <p><b>Note:</b> You can find the information for the next two steps in the last paragraph of the <b>ReadMe.txt</b> file that was created in Step 6 and was saved with the project setup files.</p>
                                            </li>
                                            <li value="2">
                                                <p>Enter <b>Database</b> and <b>Server</b> information(  <i>Database Name</i> and <i>Server Name</i>) from <i>DeploymentSummary.json</i>, and click <b>Load</b>:</p>
                                                <p>
                                                    <img src="../../Resources/Images/LS Insight Help/PBIconnect_600x226.png" style="width: 600;height: 226;" class="images" />
                                                </p>
                                            </li>
                                            <li value="3">
                                                <p>Enter the <b>login</b> information (<i>Server Admin Login</i> and <i>Server Admin Password</i>) from <i>DeploymentSummary.json</i> and click <b>Connect</b>:</p>
                                                <p>
                                                    <img src="../../Resources/Images/LS Insight Help/login_600x350.png" style="width: 600;height: 350;" class="images" />
                                                </p>
                                                <p style="font-weight: bold;">Note: <span style="font-weight: normal;">You will not see any data at this stage as firewall rules block direct access to the data in Azure from the local network. Once uploaded to the Power BI service, you will have access to your data. If you still can not see any data after you upload it might be because the pipelines have not run. You can always <a href="../Manually-Run-Trigger.htm">manually trigger</a> the pipelines if needed.</span></p>
                                            </li>
                                            <li value="4">
                                                <p>Save your report and name it LS Insight. This will be the name of the dataset and report after you upload the report to the Power BI service.</p>
                                            </li>
                                            <li value="5">
                                                <p> Publish the report to the Power BI service. We recommend that you create a workspace for the report and publish to that workspace (optionally, you can create a test workspace and try out the product and updates there).</p>
                                                <p>
                                                    <img src="../../Resources/Images/LS Insight Help/publishPowerBI_600x409.png" style="width: 600;height: 409;" class="images" />
                                                </p>
                                            </li>
                                        </ol>
                                        <h2>11 Set the schedule refresh in Power BI</h2>
                                        <p>You can always click the <b>Refresh</b> button to load current data to the dataset. However, as all the data is loaded on each refresh, it can take a few minutes to load. It is therefore recommended to set a refresh schedule on the dataset. This is done in the dataset settings:</p>
                                        <ol>
                                            <li value="1">
                                                <p>In your workspace, go to the <b>Datasets</b> menu.</p>
                                            </li>
                                            <li value="2">
                                                <p>For the LS Insight dataset, click the (…) under <b>Actions</b> and select <b>Settings</b>.</p>
                                            </li>
                                            <li value="3">
                                                <p>Expand <b>Scheduled refresh</b>.</p>
                                            </li>
                                            <li value="4">
                                                <p>Enable schedule refresh by turning the <b>Keep your data up to date</b> option to <b>On</b>.</p>
                                            </li>
                                            <li value="5">Set the <b>Refresh frequency</b> and <b>Time</b>. <p><b>Note: </b>It is recommended to set the time to a minimum 2 hours after the proposed start time for the Azure Pipeline to allow the data warehouse to fully load before the dataset is refreshed.</p><p><img src="../../Resources/Images/LS Insight Help/PBIschedule_600x554.png" style="width: 600;height: 554;" class="images" /></p><p><b>Note:</b> In the current version it is not possible to automatically trigger Power BI to refresh after the data warehouse has been updated (this will be available later). Therefore, you will need to have the Power BI refresh time set to refresh at minimum 2 hours after the ADF pipelines start (you can also add additional time to make sure).</p></li>
                                            <li value="6">
                                                <p>Now you are all set up and ready to go.</p>
                                                <p><b>Note: </b>Depending on the data size, the initial load can take a long time. You can monitor the process in Azure but be prepared to wait a few hours before data can be visualized in the Power BI reports.</p>
                                            </li>
                                        </ol>
                                        <h2>12 Dataset Items</h2>
                                        <p>If you are curious or have questions about the <a href="../Dataset-Items.htm">visible items in the LS Insight dataset</a> from the Power BI Templates, it is a good idea to review them.</p>
                                        <p>&#160;</p>
                                        <p>&#160;</p>
                                    </div>
                                    <div id="footer" class="ls-nav-footer">
                                        <hr width="100%" size="0" align="center" />
                                        <p>© <span class="VariablesCurrentYear">2021</span> LS Retail ehf. All rights reserved.  </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div><a data-close="true"></a>
                </div>
            </div>
        </div>
    </body>
</html>