<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="_Skins_HTML5___Side_Navigation" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="../../../../" data-mc-has-content-body="True" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="Retail|[%=System.LinkedTitle%]|[%=System.LinkedTitle%]">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="msapplication-config" content="../../../../Skins/Favicons/browserconfig.xml" />
        <link rel="apple-touch-icon" sizes="180x180" href="../../../../Skins/Favicons/apple-touch-icon.png" />
        <link rel="shortcut icon" href="../../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="96x96" href="../../../../Skins/Favicons/favicon-96x96.png" />
        <link rel="icon" sizes="32x32" href="../../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="16x16" href="../../../../Skins/Favicons/favicon-16x16.png" /><title>LS Insight 2021.1 Release Notes</title>
        <link rel="shortcut icon" href="/Content/Resources/Images/favicon.ico" />
        <link href="../../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" />
        <link href="../../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="../../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" />
        <link href="../../../../Skins/Fluid/Stylesheets/foundation.6.2.3.css" rel="stylesheet" />
        <link href="../../../../Skins/Fluid/Stylesheets/Styles.css" rel="stylesheet" />
        <link href="../../../../Skins/Fluid/Stylesheets/Tablet.css" rel="stylesheet" />
        <link href="../../../../Skins/Fluid/Stylesheets/Mobile.css" rel="stylesheet" />
        <link href="../../../Resources/Stylesheets/LSNav.css" rel="stylesheet" />
        <script src="../../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../../Resources/Scripts/require.min.js" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/require.config.js" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/foundation.6.2.3_custom.js" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/plugins.min.js" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapAll.js" defer="defer">
        </script>
        <script src="../../../Resources/Javascripts/Scroll-Button.js" defer="defer">
        </script>
    </head>
    <body>
        <div class="foundation-wrap off-canvas-wrapper">
            <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
                <aside class="off-canvas position-right" role="navigation" id="offCanvas" data-off-canvas="" data-position="right" data-mc-ignore="true">
                    <ul class="off-canvas-accordion vertical menu off-canvas-list" data-accordion-menu="" data-mc-back-link="Back" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True">
                    </ul>
                </aside>
                <div class="off-canvas-content inner-wrap" data-off-canvas-content="">
                    <div data-sticky-container="" class="title-bar-container">
                        <nav class="title-bar tab-bar sticky" data-sticky="" data-options="marginTop:0" style="width:100%" data-sticky-on="only screen and (max-width: 1279px)" data-mc-ignore="true"><a class="skip-to-content fluid-skip showOnFocus" href="#">Skip To Main Content</a>
                            <div class="middle title-bar-section outer-row clearfix">
                                <div class="menu-icon-container relative clearfix">
                                    <div class="central-dropdown" style="display:none;" id="#centralSmallScreen"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                        <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                            <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                        </div>
                                    </div>
                                    <button class="menu-icon" aria-label="Show Navigation Panel" data-toggle="offCanvas"><span></span>
                                    </button>
                                </div>
                            </div>
                            <div class="title-bar-layout outer-row">
                                <div class="logo-wrapper"><a class="logo" href="../../../home.html" title="LS Central Help" alt="Logo"></a>
                                </div>
                                <div class="navigation-wrapper nocontent">
                                    <ul class="navigation clearfix" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="3" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                        <li class="placeholder" style="visibility:hidden"><a>placeholder</a>
                                        </li>
                                    </ul>
                                    <div class="central-dropdown" style="display:none;" id="#centralTop"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                        <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                            <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                        </div>
                                    </div>
                                </div>
                                <div class="nav-search-wrapper">
                                    <div class="nav-search row">
                                        <form class="search" action="#">
                                            <div class="search-bar search-bar-container needs-pie">
                                                <input class="search-field needs-pie" type="search" aria-label="Search Field" placeholder="Search" />
                                                <div class="search-filter-wrapper"><span class="invisible-label" id="search-filters-label">Filter: </span>
                                                    <div class="search-filter" aria-haspopup="true" aria-controls="sf-content" aria-expanded="false" aria-label="Search Filter" title="All Files" role="button" tabindex="0">
                                                    </div>
                                                    <div class="search-filter-content" id="sf-content">
                                                        <ul>
                                                            <li>
                                                                <button class="mc-dropdown-item" aria-labelledby="search-filters-label filterSelectorLabel-00001"><span id="filterSelectorLabel-00001">All Files</span>
                                                                </button>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="search-submit-wrapper" dir="ltr">
                                                    <div class="search-submit" title="Search" role="button" tabindex="0"><span class="invisible-label">Submit Search</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                    <div class="central-dropdown" style="display:none;"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                        <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                            <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </nav>
                    </div>
                    <div class="main-section">
                        <div class="row outer-row sidenav-layout">
                            <nav class="sidenav-wrapper">
                                <div class="sidenav-container">
                                    <ul class="off-canvas-accordion vertical menu sidenav" data-accordion-menu="" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu accordion-menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="False" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True" data-mc-side-nav-menu="True">
                                    </ul>
                                </div>
                            </nav>
                            <div class="body-container">
                                <div data-mc-content-body="True">
                                    <MadCap:conditionalText data-mc-conditions="Default.GoogleAnalytics">
                                        <script>/* <![CDATA[ */
				(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
				(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
				m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
				})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
			
				ga('create', 'UA-58791693-4', 'auto');
			
				var file = document.location.href; 
				file = file.substring(0, (file.indexOf("#") == -1) ? file.length : file.indexOf("#"));
				file = file.substring(0, (file.indexOf("?") == -1) ? file.length : file.indexOf("?"));
				file = file.substring(file.lastIndexOf("/") + 1, file.length);
 
				if (file === 'Search.htm') 
				{
					var newPath = document.location.pathname + document.location.search + document.location.hash;
					newPath = newPath.replace(/#/, '?');
					newPath = newPath.replace(/search\-/, 'q=');
					ga('set', 'page', newPath);
				
					function locationHashChanged()
					{
						newPath = document.location.pathname + document.location.search + document.location.hash;
						newPath = newPath.replace(/#/, '?');
						newPath = newPath.replace(/search\-/, 'q=');
						ga('set', 'page', newPath);
						ga('send', 'pageview');
					}
				
					if(window.HashChangeEvent)
					{
						window.onhashchange = locationHashChanged;
					}
				}
				ga('send', 'pageview');
			/* ]]> */</script>
                                    </MadCap:conditionalText>
                                    <div class="nocontent">
                                        <div class="MCBreadcrumbsBox_0 breadcrumbs" role="navigation" aria-label="Breadcrumbs" data-mc-breadcrumbs-divider=" &gt; " data-mc-breadcrumbs-count="3" data-mc-toc="True"><span class="MCBreadcrumbsPrefix">You are here: </span>
                                        </div>
                                    </div>
                                    <p>&#160;</p>
                                    <div role="main" id="mc-main-content">
                                        <h1><a name="aanchor11936"></a>
                                            <MadCap:concept term="Release Notes" />LS Insight (2021.1) Release Notes</h1>
                                        <h2>About This Release</h2>
                                        <p><b id="releaseDate">Released -  February 9, 2021</b><![CDATA[  ]]></p>
                                        <p>This version of LS Insight supports versions 8.4 and later of <span class="GeneralLSCentral_Mini">LS&#160;Central</span> On-premises and later versions of <span class="GeneralLSCentral_Mini">LS&#160;Central</span> In-cloud (SaaS). Setup of LS Insight for <span class="GeneralLSCentral_Mini">LS&#160;Central</span> In-cloud (SaaS) needs some additional setup from the standard LS Insight onboarding process which is explained in detail in the <a href="../../Setup/Onboarding.htm">onboarding documentation</a>.</p>
                                        <p>In this version  staging pipelines have been drastically changed, so they are now completely dynamic for <span class="GeneralLSCentral_Mini">LS&#160;Central</span> on-premises.</p>
                                        <p>This change provided the opportunity to add support for multiple companies in the same LS Insight Data Warehouse.</p>
                                        <p>A company dimension has been added to the Power BI template reports, but a report that compares two or more companies has not been created yet. </p>
                                        <p>Because of these changes the LS&#160;Insight deployment script was modularized to make reuse easier of parameters on error. This also makes it easier to maintain and modify the deployment process and helps greatly during testing. The LSInsight PowerShell module was created for this.</p>
                                        <p><b>Note:</b> Since the changes in this version are extensive, this version should only be used for new installations.</p>
                                        <p>The following is a list of changes and key features in LS Insight (2021.1).</p>
                                        <h2 class="RelNotesSection">New or Enhanced Features</h2>
                                        <h2 class="RelNotesProdGroup">Setup</h2>
                                        <h2 class="RelNotes-2">Onboarding </h2>
                                        <p>The LS Insight deployment script now uses the LS&#160;Insight PowerShell module to set up LS Insight.</p>
                                        <p>This changes the maintenance of the deployment process drastically.</p>
                                        <h2 class="RelNotes-2">Product Package</h2>
                                        <p><b>The product package now contains a folder with the following files:</b>
                                        </p>
                                        <ul>
                                            <li style="color: #000000;" value="1">arm_template folder<ul style="list-style-type: circle;"><li value="1">arm_template - LS Insight.json</li><li style="color: #000000;" value="2">arm_template_parameters.json</li></ul></li>
                                            <li style="color: #000000;" value="2">Modules folder<ul><li style="color: #000000;" value="1">LSInsight folder</li><li style="color: #000000;" value="2">LSInsightUtilities folder</li></ul></li>
                                            <li style="color: #000000;" value="3">DeploymentScript.ps1</li>
                                            <li style="color: #000000;" value="4">LS Insight Hotels.pbit</li>
                                            <li style="color: #000000;" value="5">LS Insight Inventory.pbit</li>
                                            <li style="color: #000000;" value="6">LS Insight Sales.pbit</li>
                                            <li style="color: #000000;" value="7">Scheduler Job Header.json</li>
                                            <li style="color: #000000;" value="8">Scheduler Job Header_Hotels.json</li>
                                        </ul>
                                        <p>New additions include the Modules folder and the Scheduler jobs for the Hotels extension. Version information has also been removed from Power BI report template files, the version is still visible when the template is opened and saved as report.</p>
                                        <p>Because of the new PowerShell modules, the <i>DeploymentScript.ps1 </i>file is notably shorter than in previous versions.</p>
                                        <h2 class="RelNotesProdGroup">Data warehouse</h2>
                                        <h2 class="RelNotes-2">Database</h2>
                                        <h3 class="RelNotes-2">Tables</h3>
                                        <p>A drastic cleanup has been done in the template <b>LS Insight Data Warehouse database</b>. </p>
                                        <p>Because of the dynamic staging pipeline changes, the staging tables are no longer present in the database template, but are generated dynamically from the meta data gathered from the <span class="GeneralLSCentral_Mini">LS&#160;Central</span> database.</p>
                                        <p>This also means that all data manipulation for the DW was moved from the staging table loading scripts to the stored procedures for the dimensions and facts.</p>
                                        <p>Each LS Insight staging table now combines the Business Central (BC) base table with all extension tables with the same name, or if the table only exists as an extension table then that is the only data loaded to the staging table.</p>
                                        <p>Additionally, we now check if you have asked to include more than one company in the LS Insight DW and load data from all companies into the same staging table, thereby adding a new company dimension to our Data Warehouse.</p>
                                        <h4>Meta data tables</h4>
                                        <p>A few tables were added to keep track of the meta data needed for the staging process to work dynamically and they are all prefixed with <i>LSInsight$</i>:</p>
                                        <ul>
                                            <li value="1">LSInsight$Companies</li>
                                            <li value="2">LSInsight$LSCentralColumnMetadata</li>
                                            <li value="3">LSInsight$QUERY BASE</li>
                                            <li value="4">LSInsight$SourceTables</li>
                                        </ul>
                                        <p>How these tables are used with the new pipelines is explained in this <a href="../../Azure-Data-Factory.htm">overview of the new Azure Data Factory</a></p>
                                        <h4>Staging table syntax</h4>
                                        <p>The syntax for the staging table names has changed from <b>Stg.Item</b> to <b>Stg$Item</b>.</p>
                                        <h3 class="RelNotes-2">Stored procedures</h3>
                                        <p>Because of the change in the staging tables, the business logic that was in the old staging scripts  had to be moved to the stored procedures for the dimensions and facts.</p>
                                        <p>Every single store procedure in the DW&#160;template database was checked to make sure that the same manipulation and combining of data was applied as before and that the company dimension was added to all dimension and fact tables, so data would not get mixed up between companies. The structure and syntax of the procedures was also synchronized to increase their maintainability.</p>
                                        <p>In addition to internal cleanup, several dimensions that were not in use were also removed. If you try this setup of LS Insight and are missing something from a previous setup, please submit a support request through the <a href="https://portal.lsretail.com/submit-request/">LS Retail support portal</a>.</p>
                                        <h2 class="RelNotes-2">Pipelines</h2>
                                        <p>In version 2021.1, <span class="GeneralLSCentral_Mini">LS&#160;Central</span> database meta data are utilized to generate and select queries for the staging tables in the LS Insight DW. A single pipeline in Azure Data Factory is then used for the extraction and load process. </p>
                                        <p>In previous versions there was one pipeline in the ADF for each staging table. Adding source tables and companies demanded creating additional pipelines. In this version, adding tables and companies is now meta data driven.</p>
                                        <p>A new <a href="../../Azure-Data-Factory.htm">overview page of the new ADF</a> was created, explaining the changes made from the older versions of LS&#160;Insight. The <a href="../../Setup/Onboarding.htm">onboarding process</a> has been updated to include the changes made to the pipelines.</p>
                                        <h2 class="RelNotesProdGroup">Reports</h2>
                                        <h2 class="RelNotes-2">LS Insight Sales</h2>
                                        <p>Changes to the LS Insight Sales report:</p>
                                        <ul>
                                            <li value="1">Version was removed from report template name.</li>
                                            <li value="2">Company dimension was added to report.</li>
                                            <li value="3">Time dimension in report is now set to one hour.</li>
                                            <li value="4">Transaction numbers have been removed from fact sales posted.</li>
                                            <li value="5">Journal document dimension has been removed from factSalesPosted as it was taking up a lot of space and not utilized in the report.</li>
                                        </ul>
                                        <h2 class="RelNotes-2">LS Insight Inventory</h2>
                                        <p>Changes to the LS Insight Inventory report:</p>
                                        <ul>
                                            <li value="1">Company dimension was added to report.<![CDATA[       ]]></li>
                                        </ul>
                                        <h2 class="RelNotes-2">LS Insight Hotels</h2>
                                        <p>Changes to the LS Insight Hotels report:</p>
                                        <ul>
                                            <li value="1">Company dimension was added to report. </li>
                                        </ul>
                                        <p>&#160;</p>
                                        <p>&#160;</p>
                                    </div>
                                    <div id="footer" class="ls-nav-footer">
                                        <hr width="100%" size="0" align="center" />
                                        <p>© <span class="VariablesCurrentYear">2021</span> LS Retail ehf. All rights reserved.  </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div><a data-close="true"></a>
                </div>
            </div>
        </div>
    </body>
</html>